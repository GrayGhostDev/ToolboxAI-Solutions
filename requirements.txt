# Production Runtime Dependencies for ToolBoxAI-Solutions
# Install with: pip install -r requirements.txt
# For development tools: pip install -r requirements-dev.txt
# For documentation building: pip install -r requirements-docs.txt

# ============================================================================
# CORE WEB FRAMEWORK - FastAPI & ASGI
# ============================================================================
fastapi==0.121.1                     # Modern web framework
starlette==0.49.1                    # ASGI framework (FastAPI dependency)
uvicorn[standard]==0.30.6            # ASGI server with uvloop
gunicorn==23.0.0                     # WSGI server for production
pydantic>=2.7.4,<2.10.0              # Data validation (avoid 2.10.x ForwardRef bug)
pydantic_core>=2.18.0,<2.28.0        # Pydantic core
annotated-types==0.7.0               # Type annotations
python-multipart==0.0.20             # Form data parsing
anyio==3.7.1                         # Async compatibility layer
sniffio==1.3.1                       # Async library detection
h11==0.16.0                          # HTTP/1.1 protocol
click==8.1.8                         # CLI creation
typing_extensions==4.14.1            # Backported typing features

# ============================================================================
# FLASK FRAMEWORK (Used in tests & admission webhooks)
# ============================================================================
Flask==3.1.2                         # Web framework for webhooks
flask-cors==6.0.1                    # CORS support
Flask-RESTful==0.3.10                # REST API extension
Werkzeug==3.1.2                      # WSGI utilities
itsdangerous==2.2.0                  # Secure signing
blinker==1.9.0                       # Signal support

# ============================================================================
# DATABASE - PostgreSQL & Redis
# ============================================================================
SQLAlchemy==2.0.36                   # ORM
asyncpg==0.29.0                      # Async PostgreSQL driver
psycopg2-binary==2.9.10              # PostgreSQL adapter
redis==5.2.1                         # Redis client
greenlet!=0.4.17                     # SQLAlchemy dependency

# Supabase Client Libraries
supabase==2.10.0                     # Supabase client
gotrue==2.12.4                       # Supabase auth
postgrest==0.18.0                    # Supabase PostgreSQL REST API
storage3==0.9.0                      # Supabase storage
realtime==2.5.3                      # Supabase realtime
supafunc==0.7.0                      # Supabase functions

# ============================================================================
# AI/ML STACK - LangChain & OpenAI
# ============================================================================
langchain==1.0.5                    # LangChain framework
langchain-core==1.0.4               # LangChain core
langchain-openai==1.0.2             # OpenAI integration
langchain-text-splitters==1.0.0     # Text splitting utilities
langgraph==1.0.3                    # LangGraph workflow orchestration
langsmith==0.4.42                   # LangSmith tracing
openai>=1.61.0                       # OpenAI API client (explicit dependency)
tiktoken==0.12.0                     # OpenAI tokenizer

# ============================================================================
# AUTHENTICATION & SECURITY
# ============================================================================
python-jose[cryptography]==3.5.0     # JWT token handling (JOSE standard)
PyJWT==2.10.1                        # JWT tokens
cryptography==46.0.3                 # Cryptographic primitives
pyOpenSSL==25.3.0                    # OpenSSL wrapper
Authlib==1.6.5                       # OAuth/OIDC library
passlib==1.7.4                       # Password hashing
bcrypt==5.0.0                        # Bcrypt hashing
PyNaCl==1.6.0                        # Networking and cryptography
oauthlib==3.3.1                      # OAuth library
requests-oauthlib==2.0.0             # OAuth for requests

# ============================================================================
# THIRD-PARTY API INTEGRATIONS
# ============================================================================
pusher==3.3.2                        # Pusher Channels real-time
stripe==8.0.0                        # Payment processing
twilio==9.4.0                        # SMS/voice communication
sendgrid==6.11.0                     # Email service
python-http-client==3.3.7            # SendGrid dependency

# ============================================================================
# ASYNC TASK QUEUE - Celery
# ============================================================================
celery==5.5.3                        # Distributed task queue
flower==2.0.1                        # Celery monitoring web UI
kombu==5.5.4                         # Messaging library
billiard==4.2.2                      # Process pool
amqp==5.3.1                          # AMQP protocol
vine==5.1.0                          # Promises/futures
click-didyoumean==0.3.1              # CLI typo suggestions
click-plugins==1.1.1.2               # Click plugin support
click-repl==0.3.0                    # REPL for Click

# ============================================================================
# HTTP CLIENTS & NETWORKING
# ============================================================================
httpx==0.27.0                        # Modern async HTTP client
aiohttp==3.12.14                     # Async HTTP client/server
aiohttp-retry==2.8.3                 # Retry logic for aiohttp
requests==2.32.5                     # HTTP library
requests-toolbelt==1.0.0             # Requests utilities
httpcore==1.0.9                      # HTTP core primitives
certifi==2024.8.30                   # SSL certificates
urllib3==2.5.0                       # HTTP client
charset-normalizer==3.4.2            # Character encoding detection
idna==3.10                           # Internationalized domain names
yarl==1.17.1                         # URL parsing
multidict==6.6.4                     # Multi-value dictionary
frozenlist==1.7.0                    # Frozen list type
aiosignal==1.4.0                     # Async signals
propcache==0.3.2                     # Property caching
aiohappyeyeballs==2.6.1              # Happy eyeballs algorithm
h2==4.3.0                            # HTTP/2 protocol
hpack==4.1.0                         # HTTP/2 header compression
hyperframe==6.1.0                    # HTTP/2 framing

# ============================================================================
# MONITORING & OBSERVABILITY
# ============================================================================
sentry-sdk==2.19.2                   # Error tracking
prometheus_client==0.23.1            # Prometheus metrics
prometheus-fastapi-instrumentator==7.0.0  # FastAPI metrics

# OpenTelemetry Ecosystem (v1.21.0 for consistency)
opentelemetry-api==1.21.0            # OpenTelemetry API
opentelemetry-sdk==1.21.0            # OpenTelemetry SDK
opentelemetry-semantic-conventions==0.42b0  # Semantic conventions
opentelemetry-proto==1.21.0          # Protocol definitions
opentelemetry-instrumentation==0.42b0  # Base instrumentation
opentelemetry-instrumentation-asgi==0.42b0  # ASGI instrumentation
opentelemetry-instrumentation-dbapi==0.42b0  # Database API instrumentation
opentelemetry-instrumentation-httpx==0.42b0  # HTTPX instrumentation
opentelemetry-instrumentation-logging==0.42b0  # Logging instrumentation
opentelemetry-instrumentation-psycopg2==0.42b0  # PostgreSQL instrumentation
opentelemetry-instrumentation-redis==0.42b0  # Redis instrumentation
opentelemetry-instrumentation-sqlalchemy==0.42b0  # SQLAlchemy instrumentation
opentelemetry-instrumentation-fastapi==0.42b0  # FastAPI instrumentation
opentelemetry-exporter-otlp==1.21.0  # OTLP exporter
opentelemetry-exporter-otlp-proto-common==1.21.0  # OTLP common
opentelemetry-exporter-otlp-proto-grpc==1.21.0  # OTLP gRPC exporter
opentelemetry-exporter-otlp-proto-http==1.21.0  # OTLP HTTP exporter
opentelemetry-util-http==0.42b0      # HTTP utilities
backoff<3.0.0,>=1.10.0               # Retry with backoff
grpcio==1.75.1                       # gRPC framework
googleapis-common-protos==1.70.0     # Google API protos
protobuf==4.25.8                     # Protocol buffers

# ============================================================================
# DATA PROCESSING & ANALYTICS
# ============================================================================
pandas==2.2.3                        # Data analysis
numpy==1.26.4                        # Numerical computing
# scikit-learn==1.5.2                  # Machine learning (handled by render-build.sh)
# scipy==1.13.1                        # Scientific computing (handled by render-build.sh)
pyarrow==14.0.2                      # Columnar data format
joblib==1.5.2                        # Parallel processing
threadpoolctl==3.6.0                 # Thread pool control

# ============================================================================
# VISUALIZATION (Used in analytics services)
# ============================================================================
matplotlib==3.8.4                    # Plotting library
seaborn==0.13.2                      # Statistical visualization
plotly==5.24.1                       # Interactive plots
kiwisolver==1.4.9                    # Constraint solver (matplotlib dep)
contourpy==1.3.3                     # Contour plotting
cycler==0.12.1                       # Style cycling
fonttools==4.60.1                    # Font utilities
pillow==10.4.0                       # Image processing

# ============================================================================
# DATA VALIDATION & SERIALIZATION
# ============================================================================
marshmallow==3.23.2                  # Object serialization
attrs==23.2.0                        # Class attributes
jsonschema==4.25.1                   # JSON schema validation
jsonschema-specifications==2023.12.1 # JSON schema specs
referencing==0.36.2                  # JSON reference resolution
rpds-py==0.27.1                      # Persistent data structures
email-validator==2.2.0               # Email validation
phonenumbers==8.13.50                # Phone number validation
validators==0.35.0                   # General validators
python-slugify==8.0.4                # Slug generation
text-unidecode==1.3                  # Unicode to ASCII

# ============================================================================
# FILE PROCESSING & UTILITIES
# ============================================================================
python-docx==0.8.11                  # Word document generation
openpyxl==3.1.5                      # Excel file handling
et_xmlfile==2.0.0                    # openpyxl dependency
python-magic==0.4.27                 # File type detection
aiofiles==23.2.1                     # Async file I/O
brotli==1.2.0                        # Compression support
zstandard==0.23.0                    # Zstandard compression

# ============================================================================
# TEMPLATE ENGINES & MARKUP
# ============================================================================
Jinja2==3.1.6                        # Template engine
MarkupSafe==3.0.2                    # Safe HTML rendering

# ============================================================================
# CONFIGURATION & ENVIRONMENT
# ============================================================================
python-dotenv==1.0.1                 # .env file support
python-decouple==3.8                 # Settings management
PyYAML==6.0.2                        # YAML parser
toml==0.10.2                         # TOML parser
tomlkit==0.13.3                      # TOML toolkit
hjson==3.1.0                         # Human JSON

# ============================================================================
# UTILITIES & HELPERS
# ============================================================================
tenacity==9.1.2                      # Retry library
python-dateutil==2.9.0.post0         # Date utilities
pytz==2025.2                         # Timezone support
tzdata>=2025.2                       # Timezone database
python-json-logger==3.2.1            # JSON logging
rich==13.9.4                         # Rich terminal output
colorama==0.4.6                      # Terminal colors
termcolor==3.1.0                     # ANSI colors
tabulate==0.9.0                      # Table formatting
tqdm==4.67.1                         # Progress bars
filelock==3.19.1                     # File locking
packaging==24.2                      # Version parsing
platformdirs==4.4.0                  # Platform directories
setuptools==78.1.1                   # Package installation
six==1.17.0                          # Python 2/3 compatibility
deprecation==2.1.0                   # Deprecation utilities
Deprecated==1.2.18                   # Deprecation decorator
wrapt==1.17.3                        # Object proxying

# ============================================================================
# JSON & DATA FORMATS
# ============================================================================
orjson==3.11.3                       # Fast JSON library
jsonpatch==1.33                      # JSON patch operations
jsonpointer==3.0.0                   # JSON pointer
msgpack==1.1.1                       # MessagePack serialization

# ============================================================================
# XML & HTML PARSING
# ============================================================================
lxml==6.0.0                          # XML/HTML parser
beautifulsoup4==4.13.4               # HTML parser
soupsieve==2.7                       # CSS selector library
defusedxml==0.7.1                    # Secure XML parsing

# ============================================================================
# ASYNC & CONCURRENCY
# ============================================================================
asgiref==3.9.2                       # ASGI reference implementation

# ============================================================================
# RATE LIMITING & THROTTLING
# ============================================================================
slowapi==0.1.9                       # Rate limiting for FastAPI
limits==5.6.0                        # Rate limiting utilities

# ============================================================================
# CRYPTOGRAPHIC UTILITIES
# ============================================================================
cffi==2.0.0                          # C FFI
pycparser==2.23                      # C parser
# ecdsa==0.19.1 removed due to CVE-2024-23342 (Minerva attack vulnerability)
# Replaced with cryptography library which provides secure ECDSA implementation
starkbank-ecdsa==2.2.0               # ECDSA signing
rsa==4.9.1                           # RSA cryptography
pyasn1==0.6.1                        # ASN.1 types

# ============================================================================
# CACHING & STORAGE
# ============================================================================
cachetools==5.5.0                    # Caching utilities
CacheControl==0.14.3                 # HTTP caching

# ============================================================================
# API SPECIFICATIONS & DOCUMENTATION
# ============================================================================
apispec==6.7.1                       # API specification
apispec-webframeworks==1.1.0         # Framework integration

# ============================================================================
# STREAMING & WEBSOCKETS
# ============================================================================
websockets==12.0                     # WebSocket protocol

# ============================================================================
# NLP & TEXT PROCESSING
# ============================================================================
nltk==3.9.2                          # Natural language toolkit
regex==2024.9.11                     # Advanced regex

# ============================================================================
# WEB SCRAPING & UTILITIES
# ============================================================================
favicon==0.7.0                       # Favicon utilities

# ============================================================================
# GEO & MAPPING
# ============================================================================
xyzservices==2024.9.0                # XYZ tile services

# ============================================================================
# SORTING & COLLECTIONS
# ============================================================================
sortedcontainers==2.4.0              # Sorted collections
super_collections==0.6.2             # Extended collections

# ============================================================================
# PAGINATION
# ============================================================================
paginate==0.5.7                      # Pagination utilities

# ============================================================================
# COMMAND LINE UTILITIES
# ============================================================================
prompt_toolkit==3.0.52               # Command line interface
wcwidth==0.2.14                      # Terminal width calculation
typer==0.19.2                        # CLI building
shellingham==1.5.4                   # Shell detection

# ============================================================================
# PROCESS MANAGEMENT
# ============================================================================
psutil==6.1.0                        # System and process utilities

# ============================================================================
# TERMINAL & OUTPUT
# ============================================================================
tornado==6.5.2                       # Async networking library

# ============================================================================
# TYPE CHECKING RUNTIME
# ============================================================================
typing-inspection==0.4.1             # Runtime type inspection

# ============================================================================
# IMPORTLIB UTILITIES
# ============================================================================
importlib_metadata==6.11.0           # Package metadata (OpenTelemetry compat)
importlib_resources==6.5.2           # Resource access
zipp==3.20.2                         # Zipfile utilities

# ============================================================================
# PACKAGE METADATA
# ============================================================================
pluggy==1.6.0                        # Plugin system
entrypoints==0.4                     # Entry point discovery

# ============================================================================
# DNS
# ============================================================================
dnspython==2.6.1                     # DNS toolkit

# ============================================================================
# RUAMEL YAML (Alternative YAML parser)
# ============================================================================
ruamel.yaml==0.18.15                 # YAML parser
ruamel.yaml.clib==0.2.14             # YAML C library

# ============================================================================
# SERIALIZATION FORMATS
# ============================================================================
thrift==0.22.0                       # Apache Thrift

# ============================================================================
# ANSI UTILITIES
# ============================================================================
aniso8601==10.0.1                    # ANSI date/time parsing

# ============================================================================
# NDG HTTPSCLIENT (SSL utilities)
# ============================================================================
ndg-httpsclient==0.5.1               # Enhanced HTTPS support

# ============================================================================
# IPYTHON DEPENDENCIES (needed for some utilities)
# ============================================================================
decorator==5.2.1                     # Decorator utilities
jedi==0.19.2                         # Code completion
parso==0.8.5                         # Python parser
pexpect==4.9.0                       # Expect automation
ptyprocess==0.7.0                    # PTY utilities
asttokens==3.0.0                     # AST tokens
executing==2.2.1                     # Code execution inspection
pure_eval==0.2.3                     # Safe evaluation
stack-data==0.6.3                    # Stack data extraction
traitlets==5.14.3                    # Configuration system

# ============================================================================
# PATH SPECIFICATION
# ============================================================================
pathspec==0.12.1                     # Path pattern matching

# ============================================================================
# CONFIGURATION PARSING
# ============================================================================
iniconfig==2.1.0                     # INI file parser

# ============================================================================
# Note: Total ~150 production packages (down from 326)
# Removed: Streamlit (20 pkgs), Docs (30 pkgs), Dev tools (30 pkgs)
# For full environment: pip install -r requirements.txt -r requirements-dev.txt
# ============================================================================
# Hashicorp Vault client (used by backend security)
hvac==2.1.0                          # Hashicorp Vault secrets management
