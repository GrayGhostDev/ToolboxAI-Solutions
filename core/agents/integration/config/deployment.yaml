# AI Agent Swarm Deployment Configuration
# ToolboxAI Educational Platform Integration System

# Agent Configuration
agents:
  # Backend Integration Agents
  backend:
    api_gateway:
      enabled: true
      config:
        max_endpoints: 1000
        rate_limit_default: 100
        documentation_auto_generate: true
        versions_supported: ["v1", "v2", "v3"]
        health_check_interval: 30  # seconds

    database_sync:
      enabled: true
      config:
        sync_strategy: "write_through"  # write_through | write_behind | lazy_loading
        cache_ttl_default: 3600  # seconds
        consistency_check_interval: 300  # seconds
        conflict_resolution: "last_write_wins"
        max_sync_retries: 3

    authentication:
      enabled: false  # To be implemented
      config:
        jwt_expiry: 3600
        refresh_token_expiry: 86400
        max_sessions_per_user: 5

    service_discovery:
      enabled: false  # To be implemented
      config:
        health_check_interval: 10
        service_timeout: 30
        registry_url: "http://localhost:8500"

  # Frontend Integration Agents
  frontend:
    ui_sync:
      enabled: true
      config:
        update_strategies:
          default: "immediate"
          tables: "batched"
          charts: "throttled"
          forms: "immediate"
        batch_window: 100  # milliseconds
        throttle_window: 100  # milliseconds
        debounce_delay: 300  # milliseconds
        snapshot_retention: 10  # number of snapshots to keep

    realtime_update:
      enabled: true
      config:
        pusher_enabled: true
        websocket_fallback: true
        max_channels: 100
        max_subscribers_per_channel: 1000
        idle_channel_timeout: 1800  # seconds
        message_queue_size: 1000
        retry_attempts: 3
        retry_delay: 1000  # milliseconds

    component_generator:
      enabled: false  # To be implemented
      config:
        template_engine: "react"
        style_framework: "material-ui"
        typescript_enabled: true

    state_management:
      enabled: false  # To be implemented
      config:
        store_type: "redux"
        persist_state: true
        sync_interval: 5000  # milliseconds

  # Roblox Integration Agents
  roblox:
    studio_bridge:
      enabled: true
      config:
        plugin_port: 64989
        connection_types: ["http_plugin", "rojo", "websocket"]
        heartbeat_interval: 30  # seconds
        session_timeout: 3600  # seconds
        max_concurrent_sessions: 10
        rojo:
          port: 34872
          sync_enabled: true

    asset_deployment:
      enabled: false  # To be implemented
      config:
        open_cloud_enabled: true
        max_asset_size: 10485760  # 10MB
        supported_types: ["script", "model", "image", "audio"]
        deployment_queue_size: 100

    game_instance:
      enabled: false  # To be implemented
      config:
        max_instances: 10
        instance_timeout: 1800  # seconds
        auto_scaling: true
        min_players: 1
        max_players: 50

    educational_content:
      enabled: false  # To be implemented
      config:
        content_sync_interval: 60  # seconds
        quiz_generation: true
        gamification_enabled: true

  # Data Flow Agents
  data_flow:
    schema_validator:
      enabled: true
      config:
        validation_level_default: "normal"  # strict | normal | lenient | warn_only
        auto_mapping: true
        schema_evolution_tracking: true
        compatibility_threshold: 0.7
        supported_types: ["json_schema", "pydantic", "typescript", "sql", "roblox_datastore"]

    event_bus:
      enabled: false  # To be implemented
      config:
        broker_type: "redis"
        max_event_size: 1048576  # 1MB
        retention_period: 86400  # seconds
        dead_letter_queue: true

    cache_invalidation:
      enabled: false  # To be implemented
      config:
        strategy: "immediate"  # immediate | delayed | scheduled
        cascade_invalidation: true
        ttl_variance: 0.1  # 10% variance in TTL

    conflict_resolution:
      enabled: false  # To be implemented
      config:
        default_strategy: "last_write_wins"
        manual_review_threshold: 3  # conflicts
        auto_merge_enabled: false

  # Orchestration Agents
  orchestration:
    integration_coordinator:
      enabled: true
      config:
        max_concurrent_workflows: 10
        max_tasks_per_workflow: 100
        task_timeout_default: 300  # seconds
        workflow_timeout_default: 3600  # seconds
        parallel_execution: true
        retry_failed_tasks: true
        workflow_templates:
          - "full_sync"
          - "content_deployment"
          - "emergency_recovery"

    error_recovery:
      enabled: false  # To be implemented
      config:
        circuit_breaker_threshold: 5
        recovery_timeout: 60  # seconds
        fallback_strategies: ["retry", "skip", "manual"]

    performance_monitor:
      enabled: false  # To be implemented
      config:
        metrics_collection_interval: 10  # seconds
        alert_thresholds:
          latency_ms: 1000
          error_rate: 0.05
          memory_usage: 0.8

    deployment_pipeline:
      enabled: false  # To be implemented
      config:
        stages: ["validate", "test", "stage", "production"]
        rollback_enabled: true
        canary_deployment: true
        health_checks_required: true

# Platform Connections
platforms:
  backend:
    url: "http://127.0.0.1:8008"
    timeout: 30
    retry_attempts: 3

  frontend:
    url: "http://127.0.0.1:5179"
    websocket_url: "ws://127.0.0.1:5179"

  database:
    postgresql:
      host: "localhost"
      port: 5432
      database: "educational_platform_dev"
      user: "eduplatform"
      connection_pool_size: 20

    redis:
      host: "localhost"
      port: 6379
      database: 0
      connection_pool_size: 10

  pusher:
    app_id: "${PUSHER_APP_ID}"
    key: "${PUSHER_KEY}"
    secret: "${PUSHER_SECRET}"
    cluster: "${PUSHER_CLUSTER}"

  roblox:
    universe_id: "8505376973"
    client_id: "2214511122270781418"
    api_key: "${ROBLOX_API_KEY}"
    open_cloud_url: "https://apis.roblox.com"

# Monitoring & Observability
monitoring:
  enabled: true
  providers:
    sentry:
      enabled: true
      dsn: "${SENTRY_DSN}"
      traces_sample_rate: 0.1
      environment: "production"

    prometheus:
      enabled: false
      port: 9090
      scrape_interval: 15

    logging:
      level: "INFO"  # DEBUG | INFO | WARNING | ERROR
      format: "json"
      output: "stdout"
      file_rotation:
        enabled: true
        max_size: "100MB"
        max_files: 10

# Security Configuration
security:
  circuit_breaker:
    enabled: true
    failure_threshold: 5
    recovery_timeout: 60  # seconds
    half_open_requests: 3

  rate_limiting:
    enabled: true
    default_limit: 100  # requests per minute
    burst_size: 20

  encryption:
    data_at_rest: true
    data_in_transit: true
    key_rotation_interval: 2592000  # 30 days

  authentication:
    jwt_enabled: true
    api_key_enabled: true
    oauth2_enabled: false

# Performance Tuning
performance:
  async_processing:
    enabled: true
    worker_threads: 4
    queue_size: 1000

  caching:
    enabled: true
    default_ttl: 3600
    max_cache_size: "1GB"

  batching:
    enabled: true
    batch_size: 100
    batch_timeout: 100  # milliseconds

  connection_pooling:
    enabled: true
    min_size: 5
    max_size: 50
    idle_timeout: 300  # seconds

# Deployment Settings
deployment:
  environment: "production"  # development | staging | production

  auto_scaling:
    enabled: false
    min_instances: 1
    max_instances: 10
    cpu_threshold: 0.7
    memory_threshold: 0.8

  health_checks:
    enabled: true
    path: "/health"
    interval: 30  # seconds
    timeout: 10  # seconds
    failure_threshold: 3

  rollback:
    enabled: true
    auto_rollback_on_failure: true
    keep_versions: 5

  feature_flags:
    enabled: true
    provider: "launchdarkly"  # launchdarkly | flagsmith | custom

# Maintenance Mode
maintenance:
  enabled: false
  message: "System is under maintenance. Please try again later."
  allowed_ips: ["127.0.0.1"]
  estimated_end_time: null