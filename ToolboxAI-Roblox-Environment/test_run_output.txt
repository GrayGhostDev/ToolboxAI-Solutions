============================= test session starts ==============================
platform darwin -- Python 3.12.11, pytest-8.4.2, pluggy-1.6.0 -- /Volumes/G-DRIVE ArmorATD/Development/Clients/ToolBoxAI-Solutions/ToolboxAI-Roblox-Environment/venv_clean/bin/python3.12
cachedir: .pytest_cache
benchmark: 5.1.0 (defaults: timer=time.perf_counter disable_gc=False min_rounds=5 min_time=0.000005 max_time=1.0 calibration_precision=10 warmup=False warmup_iterations=100000)
rootdir: /Volumes/G-DRIVE ArmorATD/Development/Clients/ToolBoxAI-Solutions/ToolboxAI-Roblox-Environment
configfile: pytest.ini
plugins: asyncio-1.1.0, langsmith-0.4.25, anyio-4.10.0, cov-6.2.1, mock-3.12.0, benchmark-5.1.0, asyncio-cooperative-0.40.0
asyncio: mode=Mode.STRICT, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collecting ... collected 295 items

tests/integration/test_agent_integration.py::TestAgentSystemIntegration::test_complete_content_generation_workflow PASSED [  0%]
tests/integration/test_agent_integration.py::TestAgentSystemIntegration::test_sparc_framework_integration PASSED [  0%]
tests/integration/test_agent_integration.py::TestAgentSystemIntegration::test_swarm_parallel_execution PASSED [  1%]
tests/integration/test_agent_integration.py::TestAgentSystemIntegration::test_mcp_context_management PASSED [  1%]
tests/integration/test_agent_integration.py::TestAgentSystemIntegration::test_coordinator_orchestration PASSED [  1%]
tests/integration/test_agent_integration.py::TestAgentSystemIntegration::test_error_recovery_workflow PASSED [  2%]
tests/integration/test_agent_integration.py::TestAgentSystemIntegration::test_agent_consensus_mechanism PASSED [  2%]
tests/integration/test_agent_integration.py::TestAgentSystemIntegration::test_resource_optimization PASSED [  2%]
tests/integration/test_agent_integration.py::TestAgentSystemIntegration::test_end_to_end_educational_experience PASSED [  3%]
tests/integration/test_agent_integration.py::TestAgentCommunication::test_supervisor_to_agent_communication PASSED [  3%]
tests/integration/test_agent_integration.py::TestAgentCommunication::test_agent_pipeline_flow PASSED [  3%]
tests/integration/test_agent_integration.py::TestAgentCommunication::test_agent_state_synchronization PASSED [  4%]
tests/integration/test_agent_integration.py::TestSystemPerformance::test_system_throughput PASSED [  4%]
tests/integration/test_agent_integration.py::TestSystemPerformance::test_memory_efficiency PASSED [  4%]
tests/integration/test_agent_integration.py::TestSystemPerformance::test_response_time_under_load PASSED [  5%]
tests/integration/test_api_integration.py::TestPluginWorkflow::test_plugin_registration_and_heartbeat_workflow PASSED [  5%]
tests/integration/test_api_integration.py::TestPluginWorkflow::test_rate_limiting PASSED [  5%]
tests/integration/test_api_integration.py::TestContentGeneration::test_simple_content_generation PASSED [  6%]
tests/integration/test_api_integration.py::TestContentGeneration::test_terrain_generation PASSED [  6%]
tests/integration/test_api_integration.py::TestContentGeneration::test_script_templates PASSED [  6%]
tests/integration/test_api_integration.py::TestMonitoringEndpoints::test_health_endpoint PASSED [  7%]
tests/integration/test_api_integration.py::TestMonitoringEndpoints::test_status_endpoint PASSED [  7%]
tests/integration/test_api_integration.py::TestMonitoringEndpoints::test_metrics_endpoint PASSED [  7%]
tests/integration/test_api_integration.py::TestMonitoringEndpoints::test_config_endpoints PASSED [  8%]
tests/integration/test_api_integration.py::TestCacheOperations::test_cache_clear PASSED [  8%]
tests/integration/test_api_integration.py::TestCacheOperations::test_content_caching PASSED [  8%]
tests/integration/test_api_integration.py::TestErrorHandling::test_invalid_json_requests PASSED [  9%]
tests/integration/test_api_integration.py::TestErrorHandling::test_missing_plugin_operations PASSED [  9%]
tests/integration/test_api_integration.py::TestErrorHandling::test_fastapi_connection_failure PASSED [  9%]
tests/integration/test_roblox.py::TestPluginCommunication::test_plugin_registration PASSED [ 10%]
tests/integration/test_roblox.py::TestPluginCommunication::test_plugin_heartbeat PASSED [ 10%]
tests/integration/test_roblox.py::TestPluginCommunication::test_bidirectional_communication FAILED [ 10%]/Volumes/G-DRIVE ArmorATD/Development/Clients/ToolBoxAI-Solutions/ToolboxAI-Roblox-Environment/venv_clean/lib/python3.12/site-packages/_pytest/main.py:343: PluggyTeardownRaisedWarning: A plugin raised an exception during an old-style hookwrapper teardown.
Plugin: asyncio-cooperative, Hook: pytest_runtestloop
Failed: stopping after 1 failures
For more information see https://pluggy.readthedocs.io/en/stable/api_reference.html#pluggy.PluggyTeardownRaisedWarning
  config.hook.pytest_runtestloop(session=session)
2025-09-08 23:54:20,365 - tests.conftest - INFO - Test session finished, cleaning up rate limit state
2025-09-08 23:54:20,365 - server.rate_limit_manager - INFO - RateLimitManager initialized in production mode
2025-09-08 23:54:20,365 - server.rate_limit_manager - INFO - All rate limiting state cleared
2025-09-08 23:54:20,366 - server.rate_limit_manager - INFO - RateLimitManager initialized in production mode
2025-09-08 23:54:20,366 - server.rate_limit_manager - INFO - All rate limiting state cleared


=================================== FAILURES ===================================
___________ TestPluginCommunication.test_bidirectional_communication ___________
tests/integration/test_roblox.py:126: in test_bidirectional_communication
    assert data["success"] is True
E   assert False is True
---------------------------- Captured stderr setup -----------------------------
2025-09-08 23:54:17,843 - server.rate_limit_manager - INFO - RateLimitManager initialized in production mode
2025-09-08 23:54:17,843 - server.rate_limit_manager - INFO - All rate limiting state cleared
2025-09-08 23:54:17,843 - server.rate_limit_manager - INFO - RateLimitManager initialized in production mode
2025-09-08 23:54:17,843 - server.rate_limit_manager - INFO - All rate limiting state cleared
2025-09-08 23:54:17,843 - server.rate_limit_manager - INFO - Rate limiting bypassed for testing
------------------------------ Captured log setup ------------------------------
INFO     server.rate_limit_manager:rate_limit_manager.py:94 RateLimitManager initialized in production mode
INFO     server.rate_limit_manager:rate_limit_manager.py:276 All rate limiting state cleared
INFO     server.rate_limit_manager:rate_limit_manager.py:94 RateLimitManager initialized in production mode
INFO     server.rate_limit_manager:rate_limit_manager.py:276 All rate limiting state cleared
INFO     server.rate_limit_manager:rate_limit_manager.py:120 Rate limiting bypassed for testing
----------------------------- Captured stderr call -----------------------------
2025-09-08 23:54:17,843 - server.roblox_server - INFO - Plugin registration request started
2025-09-08 23:54:17,844 - server.roblox_server - INFO - Plugin registered: a3cc2fa3-c1bd-47d8-83a5-ba6e13768421 (Studio: test_studio)
2025-09-08 23:54:20,267 - server.roblox_server - INFO - Flask bridge authenticated with test credentials
2025-09-08 23:54:20,272 - server.roblox_server - ERROR - FastAPI request failed: 422
------------------------------ Captured log call -------------------------------
INFO     server.roblox_server:roblox_server.py:1073 Plugin registration request started
INFO     server.roblox_server:roblox_server.py:525 Plugin registered: a3cc2fa3-c1bd-47d8-83a5-ba6e13768421 (Studio: test_studio)
INFO     server.roblox_server:roblox_server.py:818 Flask bridge authenticated with test credentials
ERROR    server.roblox_server:roblox_server.py:741 FastAPI request failed: 422
--------------------------- Captured stderr teardown ---------------------------
2025-09-08 23:54:20,363 - server.rate_limit_manager - INFO - All rate limiting state cleared
2025-09-08 23:54:20,363 - server.rate_limit_manager - INFO - RateLimitManager initialized in production mode
2025-09-08 23:54:20,364 - server.rate_limit_manager - INFO - All rate limiting state cleared
---------------------------- Captured log teardown -----------------------------
INFO     server.rate_limit_manager:rate_limit_manager.py:276 All rate limiting state cleared
INFO     server.rate_limit_manager:rate_limit_manager.py:94 RateLimitManager initialized in production mode
INFO     server.rate_limit_manager:rate_limit_manager.py:276 All rate limiting state cleared
=============================== warnings summary ===============================
venv_clean/lib/python3.12/site-packages/passlib/utils/__init__.py:854
  /Volumes/G-DRIVE ArmorATD/Development/Clients/ToolBoxAI-Solutions/ToolboxAI-Roblox-Environment/venv_clean/lib/python3.12/site-packages/passlib/utils/__init__.py:854: DeprecationWarning: 'crypt' is deprecated and slated for removal in Python 3.13
    from crypt import crypt as _crypt

venv_clean/lib/python3.12/site-packages/pydantic/_internal/_generate_schema.py:298
venv_clean/lib/python3.12/site-packages/pydantic/_internal/_generate_schema.py:298
venv_clean/lib/python3.12/site-packages/pydantic/_internal/_generate_schema.py:298
venv_clean/lib/python3.12/site-packages/pydantic/_internal/_generate_schema.py:298
venv_clean/lib/python3.12/site-packages/pydantic/_internal/_generate_schema.py:298
venv_clean/lib/python3.12/site-packages/pydantic/_internal/_generate_schema.py:298
venv_clean/lib/python3.12/site-packages/pydantic/_internal/_generate_schema.py:298
  /Volumes/G-DRIVE ArmorATD/Development/Clients/ToolBoxAI-Solutions/ToolboxAI-Roblox-Environment/venv_clean/lib/python3.12/site-packages/pydantic/_internal/_generate_schema.py:298: PydanticDeprecatedSince20: `json_encoders` is deprecated. See https://docs.pydantic.dev/2.11/concepts/serialization/#custom-serializers for alternatives. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.11/migration/
    warnings.warn(

venv_clean/lib/python3.12/site-packages/pydantic/fields.py:1058
venv_clean/lib/python3.12/site-packages/pydantic/fields.py:1058
  /Volumes/G-DRIVE ArmorATD/Development/Clients/ToolBoxAI-Solutions/ToolboxAI-Roblox-Environment/venv_clean/lib/python3.12/site-packages/pydantic/fields.py:1058: PydanticDeprecatedSince20: `min_items` is deprecated and will be removed, use `min_length` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.11/migration/
    warn('`min_items` is deprecated and will be removed, use `min_length` instead', DeprecationWarning)

venv_clean/lib/python3.12/site-packages/pydantic/fields.py:1064
venv_clean/lib/python3.12/site-packages/pydantic/fields.py:1064
  /Volumes/G-DRIVE ArmorATD/Development/Clients/ToolBoxAI-Solutions/ToolboxAI-Roblox-Environment/venv_clean/lib/python3.12/site-packages/pydantic/fields.py:1064: PydanticDeprecatedSince20: `max_items` is deprecated and will be removed, use `max_length` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.11/migration/
    warn('`max_items` is deprecated and will be removed, use `max_length` instead', DeprecationWarning)

server/agent.py:128
  /Volumes/G-DRIVE ArmorATD/Development/Clients/ToolBoxAI-Solutions/ToolboxAI-Roblox-Environment/server/agent.py:128: LangChainDeprecationWarning: Please see the migration guide at: https://python.langchain.com/docs/versions/migrating_memory/
    self.memory = ConversationBufferMemory(return_messages=True)

tests/test_fastapi_comprehensive.py:39
  /Volumes/G-DRIVE ArmorATD/Development/Clients/ToolBoxAI-Solutions/ToolboxAI-Roblox-Environment/tests/test_fastapi_comprehensive.py:39: PytestCollectionWarning: cannot collect test class 'TestResult' because it has a __init__ constructor (from: tests/test_fastapi_comprehensive.py)
    class TestResult:

agents/testing_agent.py:182
  /Volumes/G-DRIVE ArmorATD/Development/Clients/ToolBoxAI-Solutions/ToolboxAI-Roblox-Environment/agents/testing_agent.py:182: PytestCollectionWarning: cannot collect test class 'TestingAgent' because it has a __init__ constructor (from: tests/unit/test_agents.py)
    class TestingAgent(BaseAgent):

agents/testing_agent.py:85
  /Volumes/G-DRIVE ArmorATD/Development/Clients/ToolBoxAI-Solutions/ToolboxAI-Roblox-Environment/agents/testing_agent.py:85: PytestCollectionWarning: cannot collect test class 'TestType' because it has a __init__ constructor (from: tests/unit/test_agents.py)
    class TestType(Enum):

agents/testing_agent.py:95
  /Volumes/G-DRIVE ArmorATD/Development/Clients/ToolBoxAI-Solutions/ToolboxAI-Roblox-Environment/agents/testing_agent.py:95: PytestCollectionWarning: cannot collect test class 'TestStatus' because it has a __init__ constructor (from: tests/unit/test_agents.py)
    class TestStatus(Enum):

agents/testing_agent.py:115
  /Volumes/G-DRIVE ArmorATD/Development/Clients/ToolBoxAI-Solutions/ToolboxAI-Roblox-Environment/agents/testing_agent.py:115: PytestCollectionWarning: cannot collect test class 'TestSuiteResult' because it has a __init__ constructor (from: tests/unit/test_agents.py)
    @dataclass

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=========================== short test summary info ============================
FAILED tests/integration/test_roblox.py::TestPluginCommunication::test_bidirectional_communication
!!!!!!!!!!!!!!!!!!!!!!!!!! stopping after 1 failures !!!!!!!!!!!!!!!!!!!!!!!!!!!
================== 1 failed, 31 passed, 18 warnings in 3.85s ===================
