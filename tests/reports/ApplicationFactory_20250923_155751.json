{"created": 1758657478.158484, "duration": 0.9961071014404297, "exitcode": 0, "root": "/Volumes/G-DRIVE ArmorATD/Development/Clients/ToolBoxAI-Solutions", "environment": {}, "summary": {"passed": 6, "total": 6, "collected": 6}, "collectors": [{"nodeid": "", "outcome": "passed", "result": [{"nodeid": "tests/test_refactored_backend.py::TestApplicationFactory", "type": "Class"}]}, {"nodeid": "tests/test_refactored_backend.py::TestApplicationFactory", "outcome": "passed", "result": [{"nodeid": "tests/test_refactored_backend.py::TestApplicationFactory::test_create_app_basic", "type": "Function", "lineno": 43}, {"nodeid": "tests/test_refactored_backend.py::TestApplicationFactory::test_create_test_app", "type": "Function", "lineno": 51}, {"nodeid": "tests/test_refactored_backend.py::TestApplicationFactory::test_app_with_custom_settings", "type": "Function", "lineno": 59}, {"nodeid": "tests/test_refactored_backend.py::TestApplicationFactory::test_app_factory_components_loading", "type": "Function", "lineno": 69}, {"nodeid": "tests/test_refactored_backend.py::TestApplicationFactory::test_openapi_configuration", "type": "Function", "lineno": 77}, {"nodeid": "tests/test_refactored_backend.py::TestApplicationFactory::test_environment_variable_handling", "type": "Function", "lineno": 84}]}], "tests": [{"nodeid": "tests/test_refactored_backend.py::TestApplicationFactory::test_create_app_basic", "lineno": 43, "outcome": "passed", "keywords": ["test_create_app_basic", "TestApplicationFactory", "test_refactored_backend.py", "tests", "ToolBoxAI-Solutions", ""], "setup": {"duration": 0.008153875009156764, "outcome": "passed", "stdout": "{\"timestamp\": \"2025-09-23T19:57:57.733695+00:00\", \"level\": \"INFO\", \"logger\": \"tests.conftest\", \"message\": \"Created new event loop\", \"module\": \"conftest\", \"function\": \"event_loop\", \"line\": 100}\n{\"timestamp\": \"2025-09-23T19:57:57.735099+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.core.security.rate_limit_manager\", \"message\": \"Rate limiting testing mode enabled\", \"module\": \"rate_limit_manager\", \"function\": \"set_testing_mode\", \"line\": 238}\n", "log": [{"name": "tests.conftest", "msg": "Created new event loop", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/Volumes/G-DRIVE ArmorATD/Development/Clients/ToolBoxAI-Solutions/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 100, "funcName": "event_loop", "created": 1758657477.733681, "msecs": 733.0, "relativeCreated": 5785.240888595581, "thread": 8709562560, "threadName": "MainThread", "processName": "MainProcess", "process": 36092, "taskName": null}, {"name": "apps.backend.core.security.rate_limit_manager", "msg": "Rate limiting testing mode enabled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/Volumes/G-DRIVE ArmorATD/Development/Clients/ToolBoxAI-Solutions/apps/backend/core/security/rate_limit_manager.py", "filename": "rate_limit_manager.py", "module": "rate_limit_manager", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 238, "funcName": "set_testing_mode", "created": 1758657477.735084, "msecs": 735.0, "relativeCreated": 5786.643981933594, "thread": 8709562560, "threadName": "MainThread", "processName": "MainProcess", "process": 36092, "taskName": null}]}, "call": {"duration": 0.05614470801083371, "outcome": "passed", "stdout": "{\"timestamp\": \"2025-09-23T19:57:57.735505+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.core.app_factory\", \"message\": \"Creating app in testing mode\", \"module\": \"app_factory\", \"function\": \"create_app\", \"line\": 116}\n{\"timestamp\": \"2025-09-23T19:57:57.736053+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.core.app_factory\", \"message\": \"Created FastAPI app without lifespan (testing/import mode)\", \"module\": \"app_factory\", \"function\": \"create_app\", \"line\": 141}\n{\"timestamp\": \"2025-09-23T19:57:57.751478+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.core.middleware\", \"message\": \"Registering middleware components...\", \"module\": \"__init__\", \"function\": \"register_middleware\", \"line\": 23}\n{\"timestamp\": \"2025-09-23T19:57:57.751586+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.core.middleware\", \"message\": \"Error handling middleware registered\", \"module\": \"__init__\", \"function\": \"_register_error_handling_middleware\", \"line\": 206}\n{\"timestamp\": \"2025-09-23T19:57:57.751630+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.core.middleware\", \"message\": \"Compression middleware registered\", \"module\": \"__init__\", \"function\": \"_register_compression_middleware\", \"line\": 194}\n{\"timestamp\": \"2025-09-23T19:57:57.751822+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.core.versioning\", \"message\": \"Registered API version: 1.0.0\", \"module\": \"versioning\", \"function\": \"register_version\", \"line\": 152}\n{\"timestamp\": \"2025-09-23T19:57:57.751865+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.core.versioning\", \"message\": \"Registered API version: 1.1.0\", \"module\": \"versioning\", \"function\": \"register_version\", \"line\": 152}\n{\"timestamp\": \"2025-09-23T19:57:57.751895+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.core.versioning\", \"message\": \"Registered API version: 2.0.0\", \"module\": \"versioning\", \"function\": \"register_version\", \"line\": 152}\n{\"timestamp\": \"2025-09-23T19:57:57.751923+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.core.middleware\", \"message\": \"Versioning middleware registered\", \"module\": \"__init__\", \"function\": \"_register_versioning_middleware\", \"line\": 169}\n{\"timestamp\": \"2025-09-23T19:57:57.751953+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.core.middleware\", \"message\": \"Trusted host middleware registered\", \"module\": \"__init__\", \"function\": \"_register_trust_middleware\", \"line\": 62}\n{\"timestamp\": \"2025-09-23T19:57:57.751980+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.core.middleware\", \"message\": \"Logging middleware registered\", \"module\": \"__init__\", \"function\": \"_register_logging_middleware\", \"line\": 74}\n{\"timestamp\": \"2025-09-23T19:57:57.752190+00:00\", \"level\": \"WARNING\", \"logger\": \"apps.backend.core.middleware\", \"message\": \"Prometheus metrics not available: No module named 'prometheus_fastapi_instrumentator'\", \"module\": \"__init__\", \"function\": \"_register_metrics_middleware\", \"line\": 291}\n{\"timestamp\": \"2025-09-23T19:57:57.752221+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.core.middleware\", \"message\": \"All middleware components registered successfully\", \"module\": \"__init__\", \"function\": \"register_middleware\", \"line\": 37}\n{\"timestamp\": \"2025-09-23T19:57:57.752250+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.api.routers\", \"message\": \"Registering router components...\", \"module\": \"__init__\", \"function\": \"register_routers\", \"line\": 22}\n{\"timestamp\": \"2025-09-23T19:57:57.753367+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.api.routers\", \"message\": \"Health check endpoints loaded successfully\", \"module\": \"__init__\", \"function\": \"_register_core_routers\", \"line\": 51}\n{\"timestamp\": \"2025-09-23T19:57:57.753718+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.api.routers\", \"message\": \"Pusher endpoints loaded successfully\", \"module\": \"__init__\", \"function\": \"_register_core_routers\", \"line\": 59}\n{\"timestamp\": \"2025-09-23T19:57:57.755012+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.api.routers\", \"message\": \"Content generation endpoints loaded successfully\", \"module\": \"__init__\", \"function\": \"_register_core_routers\", \"line\": 67}\n{\"timestamp\": \"2025-09-23T19:57:57.755068+00:00\", \"level\": \"WARNING\", \"logger\": \"apps.backend.api.routers\", \"message\": \"Could not load legacy health check endpoints: No module named 'apps.backend.api.health.health_checks'; 'apps.backend.api.health' is not a package\", \"module\": \"__init__\", \"function\": \"_register_core_routers\", \"line\": 80}\n{\"timestamp\": \"2025-09-23T19:57:57.756821+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.api.routers\", \"message\": \"Legacy Pusher endpoints loaded successfully\", \"module\": \"__init__\", \"function\": \"_register_core_routers\", \"line\": 89}\n{\"timestamp\": \"2025-09-23T19:57:57.756894+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.api.routers\", \"message\": \"Clerk webhook endpoints loaded successfully\", \"module\": \"__init__\", \"function\": \"_register_webhook_routers\", \"line\": 179}\n{\"timestamp\": \"2025-09-23T19:57:57.757214+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.api.routers\", \"message\": \"Stripe webhook endpoints loaded successfully\", \"module\": \"__init__\", \"function\": \"_register_webhook_routers\", \"line\": 187}\n{\"timestamp\": \"2025-09-23T19:57:57.786844+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.api.routers\", \"message\": \"Legacy API v1 endpoints loaded successfully\", \"module\": \"__init__\", \"function\": \"_register_legacy_routers\", \"line\": 202}\n{\"timestamp\": \"2025-09-23T19:57:57.791268+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.api.routers\", \"message\": \"Legacy analytics endpoints loaded successfully\", \"module\": \"__init__\", \"function\": \"_register_legacy_routers\", \"line\": 221}\n{\"timestamp\": \"2025-09-23T19:57:57.791323+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.api.routers\", \"message\": \"All router components registered successfully\", \"module\": \"__init__\", \"function\": \"register_routers\", \"line\": 37}\n{\"timestamp\": \"2025-09-23T19:57:57.791356+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.core.app_factory\", \"message\": \"Middleware and routers registered successfully\", \"module\": \"app_factory\", \"function\": \"create_app\", \"line\": 154}\n{\"timestamp\": \"2025-09-23T19:57:57.791386+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.core.app_factory\", \"message\": \"FastAPI application created and configured successfully\", \"module\": \"app_factory\", \"function\": \"create_app\", \"line\": 158}\n", "log": [{"name": "apps.backend.core.app_factory", "msg": "Creating app in testing mode", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/Volumes/G-DRIVE ArmorATD/Development/Clients/ToolBoxAI-Solutions/apps/backend/core/app_factory.py", "filename": "app_factory.py", "module": "app_factory", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 116, "funcName": "create_app", "created": 1758657477.735497, "msecs": 735.0, "relativeCreated": 5787.056922912598, "thread": 8709562560, "threadName": "MainThread", "processName": "MainProcess", "process": 36092, "taskName": null}]}, "teardown": {"duration": 0.01145462499698624, "outcome": "passed"}}, {"nodeid": "tests/test_refactored_backend.py::TestApplicationFactory::test_create_test_app", "lineno": 51, "outcome": "passed", "keywords": ["test_create_test_app", "TestApplicationFactory", "test_refactored_backend.py", "tests", "ToolBoxAI-Solutions", ""], "setup": {"duration": 0.0013347500062081963, "outcome": "passed", "log": [{"name": "apps.backend.core.security.rate_limit_manager", "msg": "Rate limiting testing mode enabled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/Volumes/G-DRIVE ArmorATD/Development/Clients/ToolBoxAI-Solutions/apps/backend/core/security/rate_limit_manager.py", "filename": "rate_limit_manager.py", "module": "rate_limit_manager", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 238, "funcName": "set_testing_mode", "created": 1758657477.804565, "msecs": 804.0, "relativeCreated": 5856.1248779296875, "thread": 8709562560, "threadName": "MainThread", "processName": "MainProcess", "process": 36092, "taskName": null}]}, "call": {"duration": 0.039422917005140334, "outcome": "passed", "stdout": "{\"timestamp\": \"2025-09-23T19:57:57.805121+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.core.app_factory\", \"message\": \"Created FastAPI app without lifespan (testing/import mode)\", \"module\": \"app_factory\", \"function\": \"create_app\", \"line\": 141}\n{\"timestamp\": \"2025-09-23T19:57:57.805217+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.core.middleware\", \"message\": \"Registering middleware components...\", \"module\": \"__init__\", \"function\": \"register_middleware\", \"line\": 23}\n{\"timestamp\": \"2025-09-23T19:57:57.805252+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.core.middleware\", \"message\": \"Error handling middleware registered\", \"module\": \"__init__\", \"function\": \"_register_error_handling_middleware\", \"line\": 206}\n{\"timestamp\": \"2025-09-23T19:57:57.805283+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.core.middleware\", \"message\": \"Compression middleware registered\", \"module\": \"__init__\", \"function\": \"_register_compression_middleware\", \"line\": 194}\n{\"timestamp\": \"2025-09-23T19:57:57.805328+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.core.versioning\", \"message\": \"Registered API version: 1.0.0\", \"module\": \"versioning\", \"function\": \"register_version\", \"line\": 152}\n{\"timestamp\": \"2025-09-23T19:57:57.805359+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.core.versioning\", \"message\": \"Registered API version: 1.1.0\", \"module\": \"versioning\", \"function\": \"register_version\", \"line\": 152}\n{\"timestamp\": \"2025-09-23T19:57:57.805387+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.core.versioning\", \"message\": \"Registered API version: 2.0.0\", \"module\": \"versioning\", \"function\": \"register_version\", \"line\": 152}\n{\"timestamp\": \"2025-09-23T19:57:57.805411+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.core.middleware\", \"message\": \"Versioning middleware registered\", \"module\": \"__init__\", \"function\": \"_register_versioning_middleware\", \"line\": 169}\n{\"timestamp\": \"2025-09-23T19:57:57.805437+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.core.middleware\", \"message\": \"Trusted host middleware registered\", \"module\": \"__init__\", \"function\": \"_register_trust_middleware\", \"line\": 62}\n{\"timestamp\": \"2025-09-23T19:57:57.805463+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.core.middleware\", \"message\": \"Logging middleware registered\", \"module\": \"__init__\", \"function\": \"_register_logging_middleware\", \"line\": 74}\n{\"timestamp\": \"2025-09-23T19:57:57.805640+00:00\", \"level\": \"WARNING\", \"logger\": \"apps.backend.core.middleware\", \"message\": \"Prometheus metrics not available: No module named 'prometheus_fastapi_instrumentator'\", \"module\": \"__init__\", \"function\": \"_register_metrics_middleware\", \"line\": 291}\n{\"timestamp\": \"2025-09-23T19:57:57.805669+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.core.middleware\", \"message\": \"All middleware components registered successfully\", \"module\": \"__init__\", \"function\": \"register_middleware\", \"line\": 37}\n{\"timestamp\": \"2025-09-23T19:57:57.805694+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.api.routers\", \"message\": \"Registering router components...\", \"module\": \"__init__\", \"function\": \"register_routers\", \"line\": 22}\n{\"timestamp\": \"2025-09-23T19:57:57.806413+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.api.routers\", \"message\": \"Health check endpoints loaded successfully\", \"module\": \"__init__\", \"function\": \"_register_core_routers\", \"line\": 51}\n{\"timestamp\": \"2025-09-23T19:57:57.806646+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.api.routers\", \"message\": \"Pusher endpoints loaded successfully\", \"module\": \"__init__\", \"function\": \"_register_core_routers\", \"line\": 59}\n{\"timestamp\": \"2025-09-23T19:57:57.807746+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.api.routers\", \"message\": \"Content generation endpoints loaded successfully\", \"module\": \"__init__\", \"function\": \"_register_core_routers\", \"line\": 67}\n{\"timestamp\": \"2025-09-23T19:57:57.807797+00:00\", \"level\": \"WARNING\", \"logger\": \"apps.backend.api.routers\", \"message\": \"Could not load legacy health check endpoints: No module named 'apps.backend.api.health.health_checks'; 'apps.backend.api.health' is not a package\", \"module\": \"__init__\", \"function\": \"_register_core_routers\", \"line\": 80}\n{\"timestamp\": \"2025-09-23T19:57:57.809416+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.api.routers\", \"message\": \"Legacy Pusher endpoints loaded successfully\", \"module\": \"__init__\", \"function\": \"_register_core_routers\", \"line\": 89}\n{\"timestamp\": \"2025-09-23T19:57:57.809487+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.api.routers\", \"message\": \"Clerk webhook endpoints loaded successfully\", \"module\": \"__init__\", \"function\": \"_register_webhook_routers\", \"line\": 179}\n{\"timestamp\": \"2025-09-23T19:57:57.809797+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.api.routers\", \"message\": \"Stripe webhook endpoints loaded successfully\", \"module\": \"__init__\", \"function\": \"_register_webhook_routers\", \"line\": 187}\n{\"timestamp\": \"2025-09-23T19:57:57.839388+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.api.routers\", \"message\": \"Legacy API v1 endpoints loaded successfully\", \"module\": \"__init__\", \"function\": \"_register_legacy_routers\", \"line\": 202}\n{\"timestamp\": \"2025-09-23T19:57:57.843860+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.api.routers\", \"message\": \"Legacy analytics endpoints loaded successfully\", \"module\": \"__init__\", \"function\": \"_register_legacy_routers\", \"line\": 221}\n{\"timestamp\": \"2025-09-23T19:57:57.843917+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.api.routers\", \"message\": \"All router components registered successfully\", \"module\": \"__init__\", \"function\": \"register_routers\", \"line\": 37}\n{\"timestamp\": \"2025-09-23T19:57:57.843947+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.core.app_factory\", \"message\": \"Middleware and routers registered successfully\", \"module\": \"app_factory\", \"function\": \"create_app\", \"line\": 154}\n{\"timestamp\": \"2025-09-23T19:57:57.843973+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.core.app_factory\", \"message\": \"FastAPI application created and configured successfully\", \"module\": \"app_factory\", \"function\": \"create_app\", \"line\": 158}\n", "log": [{"name": "apps.backend.core.app_factory", "msg": "Creating app in testing mode", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/Volumes/G-DRIVE ArmorATD/Development/Clients/ToolBoxAI-Solutions/apps/backend/core/app_factory.py", "filename": "app_factory.py", "module": "app_factory", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 116, "funcName": "create_app", "created": 1758657477.804755, "msecs": 804.0, "relativeCreated": 5856.314897537231, "thread": 8709562560, "threadName": "MainThread", "processName": "MainProcess", "process": 36092, "taskName": null}]}, "teardown": {"duration": 0.011418374997447245, "outcome": "passed"}}, {"nodeid": "tests/test_refactored_backend.py::TestApplicationFactory::test_app_with_custom_settings", "lineno": 59, "outcome": "passed", "keywords": ["test_app_with_custom_settings", "TestApplicationFactory", "test_refactored_backend.py", "tests", "ToolBoxAI-Solutions", ""], "setup": {"duration": 0.001257957992493175, "outcome": "passed", "log": [{"name": "apps.backend.core.security.rate_limit_manager", "msg": "Rate limiting testing mode enabled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/Volumes/G-DRIVE ArmorATD/Development/Clients/ToolBoxAI-Solutions/apps/backend/core/security/rate_limit_manager.py", "filename": "rate_limit_manager.py", "module": "rate_limit_manager", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 238, "funcName": "set_testing_mode", "created": 1758657477.8569999, "msecs": 856.0, "relativeCreated": 5908.559799194336, "thread": 8709562560, "threadName": "MainThread", "processName": "MainProcess", "process": 36092, "taskName": null}]}, "call": {"duration": 0.12627824999799486, "outcome": "passed", "stdout": "{\"timestamp\": \"2025-09-23T19:57:57.857524+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.core.app_factory\", \"message\": \"Created FastAPI app without lifespan (testing/import mode)\", \"module\": \"app_factory\", \"function\": \"create_app\", \"line\": 141}\n{\"timestamp\": \"2025-09-23T19:57:57.857643+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.core.middleware\", \"message\": \"Registering middleware components...\", \"module\": \"__init__\", \"function\": \"register_middleware\", \"line\": 23}\n{\"timestamp\": \"2025-09-23T19:57:57.857684+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.core.middleware\", \"message\": \"Error handling middleware registered\", \"module\": \"__init__\", \"function\": \"_register_error_handling_middleware\", \"line\": 206}\n{\"timestamp\": \"2025-09-23T19:57:57.857719+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.core.middleware\", \"message\": \"Compression middleware registered\", \"module\": \"__init__\", \"function\": \"_register_compression_middleware\", \"line\": 194}\n{\"timestamp\": \"2025-09-23T19:57:57.857772+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.core.versioning\", \"message\": \"Registered API version: 1.0.0\", \"module\": \"versioning\", \"function\": \"register_version\", \"line\": 152}\n{\"timestamp\": \"2025-09-23T19:57:57.857806+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.core.versioning\", \"message\": \"Registered API version: 1.1.0\", \"module\": \"versioning\", \"function\": \"register_version\", \"line\": 152}\n{\"timestamp\": \"2025-09-23T19:57:57.857835+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.core.versioning\", \"message\": \"Registered API version: 2.0.0\", \"module\": \"versioning\", \"function\": \"register_version\", \"line\": 152}\n{\"timestamp\": \"2025-09-23T19:57:57.857863+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.core.middleware\", \"message\": \"Versioning middleware registered\", \"module\": \"__init__\", \"function\": \"_register_versioning_middleware\", \"line\": 169}\n{\"timestamp\": \"2025-09-23T19:57:57.857892+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.core.middleware\", \"message\": \"Trusted host middleware registered\", \"module\": \"__init__\", \"function\": \"_register_trust_middleware\", \"line\": 62}\n{\"timestamp\": \"2025-09-23T19:57:57.857919+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.core.middleware\", \"message\": \"Logging middleware registered\", \"module\": \"__init__\", \"function\": \"_register_logging_middleware\", \"line\": 74}\n{\"timestamp\": \"2025-09-23T19:57:57.858131+00:00\", \"level\": \"WARNING\", \"logger\": \"apps.backend.core.middleware\", \"message\": \"Prometheus metrics not available: No module named 'prometheus_fastapi_instrumentator'\", \"module\": \"__init__\", \"function\": \"_register_metrics_middleware\", \"line\": 291}\n{\"timestamp\": \"2025-09-23T19:57:57.858165+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.core.middleware\", \"message\": \"All middleware components registered successfully\", \"module\": \"__init__\", \"function\": \"register_middleware\", \"line\": 37}\n{\"timestamp\": \"2025-09-23T19:57:57.858193+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.api.routers\", \"message\": \"Registering router components...\", \"module\": \"__init__\", \"function\": \"register_routers\", \"line\": 22}\n{\"timestamp\": \"2025-09-23T19:57:57.858856+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.api.routers\", \"message\": \"Health check endpoints loaded successfully\", \"module\": \"__init__\", \"function\": \"_register_core_routers\", \"line\": 51}\n{\"timestamp\": \"2025-09-23T19:57:57.859159+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.api.routers\", \"message\": \"Pusher endpoints loaded successfully\", \"module\": \"__init__\", \"function\": \"_register_core_routers\", \"line\": 59}\n{\"timestamp\": \"2025-09-23T19:57:57.860232+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.api.routers\", \"message\": \"Content generation endpoints loaded successfully\", \"module\": \"__init__\", \"function\": \"_register_core_routers\", \"line\": 67}\n{\"timestamp\": \"2025-09-23T19:57:57.860280+00:00\", \"level\": \"WARNING\", \"logger\": \"apps.backend.api.routers\", \"message\": \"Could not load legacy health check endpoints: No module named 'apps.backend.api.health.health_checks'; 'apps.backend.api.health' is not a package\", \"module\": \"__init__\", \"function\": \"_register_core_routers\", \"line\": 80}\n{\"timestamp\": \"2025-09-23T19:57:57.861750+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.api.routers\", \"message\": \"Legacy Pusher endpoints loaded successfully\", \"module\": \"__init__\", \"function\": \"_register_core_routers\", \"line\": 89}\n{\"timestamp\": \"2025-09-23T19:57:57.861816+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.api.routers\", \"message\": \"Clerk webhook endpoints loaded successfully\", \"module\": \"__init__\", \"function\": \"_register_webhook_routers\", \"line\": 179}\n{\"timestamp\": \"2025-09-23T19:57:57.862090+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.api.routers\", \"message\": \"Stripe webhook endpoints loaded successfully\", \"module\": \"__init__\", \"function\": \"_register_webhook_routers\", \"line\": 187}\n{\"timestamp\": \"2025-09-23T19:57:57.978509+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.api.routers\", \"message\": \"Legacy API v1 endpoints loaded successfully\", \"module\": \"__init__\", \"function\": \"_register_legacy_routers\", \"line\": 202}\n{\"timestamp\": \"2025-09-23T19:57:57.983113+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.api.routers\", \"message\": \"Legacy analytics endpoints loaded successfully\", \"module\": \"__init__\", \"function\": \"_register_legacy_routers\", \"line\": 221}\n{\"timestamp\": \"2025-09-23T19:57:57.983181+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.api.routers\", \"message\": \"All router components registered successfully\", \"module\": \"__init__\", \"function\": \"register_routers\", \"line\": 37}\n{\"timestamp\": \"2025-09-23T19:57:57.983216+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.core.app_factory\", \"message\": \"Middleware and routers registered successfully\", \"module\": \"app_factory\", \"function\": \"create_app\", \"line\": 154}\n{\"timestamp\": \"2025-09-23T19:57:57.983245+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.core.app_factory\", \"message\": \"FastAPI application created and configured successfully\", \"module\": \"app_factory\", \"function\": \"create_app\", \"line\": 158}\n", "log": [{"name": "apps.backend.core.app_factory", "msg": "Creating app in testing mode", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/Volumes/G-DRIVE ArmorATD/Development/Clients/ToolBoxAI-Solutions/apps/backend/core/app_factory.py", "filename": "app_factory.py", "module": "app_factory", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 116, "funcName": "create_app", "created": 1758657477.8571699, "msecs": 857.0, "relativeCreated": 5908.729791641235, "thread": 8709562560, "threadName": "MainThread", "processName": "MainProcess", "process": 36092, "taskName": null}]}, "teardown": {"duration": 0.011450083999079652, "outcome": "passed"}}, {"nodeid": "tests/test_refactored_backend.py::TestApplicationFactory::test_app_factory_components_loading", "lineno": 69, "outcome": "passed", "keywords": ["test_app_factory_components_loading", "TestApplicationFactory", "test_refactored_backend.py", "tests", "ToolBoxAI-Solutions", ""], "setup": {"duration": 0.0013328750064829364, "outcome": "passed", "log": [{"name": "apps.backend.core.security.rate_limit_manager", "msg": "Rate limiting testing mode enabled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/Volumes/G-DRIVE ArmorATD/Development/Clients/ToolBoxAI-Solutions/apps/backend/core/security/rate_limit_manager.py", "filename": "rate_limit_manager.py", "module": "rate_limit_manager", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 238, "funcName": "set_testing_mode", "created": 1758657477.996379, "msecs": 996.0, "relativeCreated": 6047.938823699951, "thread": 8709562560, "threadName": "MainThread", "processName": "MainProcess", "process": 36092, "taskName": null}]}, "call": {"duration": 0.04166645799705293, "outcome": "passed", "stdout": "{\"timestamp\": \"2025-09-23T19:57:57.996970+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.core.app_factory\", \"message\": \"Created FastAPI app without lifespan (testing/import mode)\", \"module\": \"app_factory\", \"function\": \"create_app\", \"line\": 141}\n{\"timestamp\": \"2025-09-23T19:57:57.997092+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.core.middleware\", \"message\": \"Registering middleware components...\", \"module\": \"__init__\", \"function\": \"register_middleware\", \"line\": 23}\n{\"timestamp\": \"2025-09-23T19:57:57.997133+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.core.middleware\", \"message\": \"Error handling middleware registered\", \"module\": \"__init__\", \"function\": \"_register_error_handling_middleware\", \"line\": 206}\n{\"timestamp\": \"2025-09-23T19:57:57.997171+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.core.middleware\", \"message\": \"Compression middleware registered\", \"module\": \"__init__\", \"function\": \"_register_compression_middleware\", \"line\": 194}\n{\"timestamp\": \"2025-09-23T19:57:57.997224+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.core.versioning\", \"message\": \"Registered API version: 1.0.0\", \"module\": \"versioning\", \"function\": \"register_version\", \"line\": 152}\n{\"timestamp\": \"2025-09-23T19:57:57.997258+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.core.versioning\", \"message\": \"Registered API version: 1.1.0\", \"module\": \"versioning\", \"function\": \"register_version\", \"line\": 152}\n{\"timestamp\": \"2025-09-23T19:57:57.997289+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.core.versioning\", \"message\": \"Registered API version: 2.0.0\", \"module\": \"versioning\", \"function\": \"register_version\", \"line\": 152}\n{\"timestamp\": \"2025-09-23T19:57:57.997317+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.core.middleware\", \"message\": \"Versioning middleware registered\", \"module\": \"__init__\", \"function\": \"_register_versioning_middleware\", \"line\": 169}\n{\"timestamp\": \"2025-09-23T19:57:57.997346+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.core.middleware\", \"message\": \"Trusted host middleware registered\", \"module\": \"__init__\", \"function\": \"_register_trust_middleware\", \"line\": 62}\n{\"timestamp\": \"2025-09-23T19:57:57.997372+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.core.middleware\", \"message\": \"Logging middleware registered\", \"module\": \"__init__\", \"function\": \"_register_logging_middleware\", \"line\": 74}\n{\"timestamp\": \"2025-09-23T19:57:57.997565+00:00\", \"level\": \"WARNING\", \"logger\": \"apps.backend.core.middleware\", \"message\": \"Prometheus metrics not available: No module named 'prometheus_fastapi_instrumentator'\", \"module\": \"__init__\", \"function\": \"_register_metrics_middleware\", \"line\": 291}\n{\"timestamp\": \"2025-09-23T19:57:57.997601+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.core.middleware\", \"message\": \"All middleware components registered successfully\", \"module\": \"__init__\", \"function\": \"register_middleware\", \"line\": 37}\n{\"timestamp\": \"2025-09-23T19:57:57.997630+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.api.routers\", \"message\": \"Registering router components...\", \"module\": \"__init__\", \"function\": \"register_routers\", \"line\": 22}\n{\"timestamp\": \"2025-09-23T19:57:57.998418+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.api.routers\", \"message\": \"Health check endpoints loaded successfully\", \"module\": \"__init__\", \"function\": \"_register_core_routers\", \"line\": 51}\n{\"timestamp\": \"2025-09-23T19:57:57.998693+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.api.routers\", \"message\": \"Pusher endpoints loaded successfully\", \"module\": \"__init__\", \"function\": \"_register_core_routers\", \"line\": 59}\n{\"timestamp\": \"2025-09-23T19:57:57.999857+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.api.routers\", \"message\": \"Content generation endpoints loaded successfully\", \"module\": \"__init__\", \"function\": \"_register_core_routers\", \"line\": 67}\n{\"timestamp\": \"2025-09-23T19:57:57.999921+00:00\", \"level\": \"WARNING\", \"logger\": \"apps.backend.api.routers\", \"message\": \"Could not load legacy health check endpoints: No module named 'apps.backend.api.health.health_checks'; 'apps.backend.api.health' is not a package\", \"module\": \"__init__\", \"function\": \"_register_core_routers\", \"line\": 80}\n{\"timestamp\": \"2025-09-23T19:57:58.002091+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.api.routers\", \"message\": \"Legacy Pusher endpoints loaded successfully\", \"module\": \"__init__\", \"function\": \"_register_core_routers\", \"line\": 89}\n{\"timestamp\": \"2025-09-23T19:57:58.002182+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.api.routers\", \"message\": \"Clerk webhook endpoints loaded successfully\", \"module\": \"__init__\", \"function\": \"_register_webhook_routers\", \"line\": 179}\n{\"timestamp\": \"2025-09-23T19:57:58.002507+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.api.routers\", \"message\": \"Stripe webhook endpoints loaded successfully\", \"module\": \"__init__\", \"function\": \"_register_webhook_routers\", \"line\": 187}\n{\"timestamp\": \"2025-09-23T19:57:58.033312+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.api.routers\", \"message\": \"Legacy API v1 endpoints loaded successfully\", \"module\": \"__init__\", \"function\": \"_register_legacy_routers\", \"line\": 202}\n{\"timestamp\": \"2025-09-23T19:57:58.037925+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.api.routers\", \"message\": \"Legacy analytics endpoints loaded successfully\", \"module\": \"__init__\", \"function\": \"_register_legacy_routers\", \"line\": 221}\n{\"timestamp\": \"2025-09-23T19:57:58.037985+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.api.routers\", \"message\": \"All router components registered successfully\", \"module\": \"__init__\", \"function\": \"register_routers\", \"line\": 37}\n{\"timestamp\": \"2025-09-23T19:57:58.038021+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.core.app_factory\", \"message\": \"Middleware and routers registered successfully\", \"module\": \"app_factory\", \"function\": \"create_app\", \"line\": 154}\n{\"timestamp\": \"2025-09-23T19:57:58.038051+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.core.app_factory\", \"message\": \"FastAPI application created and configured successfully\", \"module\": \"app_factory\", \"function\": \"create_app\", \"line\": 158}\n", "log": [{"name": "apps.backend.core.app_factory", "msg": "Creating app in testing mode", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/Volumes/G-DRIVE ArmorATD/Development/Clients/ToolBoxAI-Solutions/apps/backend/core/app_factory.py", "filename": "app_factory.py", "module": "app_factory", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 116, "funcName": "create_app", "created": 1758657477.996597, "msecs": 996.0, "relativeCreated": 6048.156976699829, "thread": 8709562560, "threadName": "MainThread", "processName": "MainProcess", "process": 36092, "taskName": null}]}, "teardown": {"duration": 0.011287665998679586, "outcome": "passed"}}, {"nodeid": "tests/test_refactored_backend.py::TestApplicationFactory::test_openapi_configuration", "lineno": 77, "outcome": "passed", "keywords": ["test_openapi_configuration", "TestApplicationFactory", "test_refactored_backend.py", "tests", "ToolBoxAI-Solutions", ""], "setup": {"duration": 0.0019479589973343536, "outcome": "passed", "log": [{"name": "apps.backend.core.security.rate_limit_manager", "msg": "Rate limiting testing mode enabled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/Volumes/G-DRIVE ArmorATD/Development/Clients/ToolBoxAI-Solutions/apps/backend/core/security/rate_limit_manager.py", "filename": "rate_limit_manager.py", "module": "rate_limit_manager", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 238, "funcName": "set_testing_mode", "created": 1758657478.051648, "msecs": 51.0, "relativeCreated": 6103.20782661438, "thread": 8709562560, "threadName": "MainThread", "processName": "MainProcess", "process": 36092, "taskName": null}]}, "call": {"duration": 0.040131333997123875, "outcome": "passed", "stdout": "{\"timestamp\": \"2025-09-23T19:57:58.052266+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.core.app_factory\", \"message\": \"Created FastAPI app without lifespan (testing/import mode)\", \"module\": \"app_factory\", \"function\": \"create_app\", \"line\": 141}\n{\"timestamp\": \"2025-09-23T19:57:58.052394+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.core.middleware\", \"message\": \"Registering middleware components...\", \"module\": \"__init__\", \"function\": \"register_middleware\", \"line\": 23}\n{\"timestamp\": \"2025-09-23T19:57:58.052432+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.core.middleware\", \"message\": \"Error handling middleware registered\", \"module\": \"__init__\", \"function\": \"_register_error_handling_middleware\", \"line\": 206}\n{\"timestamp\": \"2025-09-23T19:57:58.052466+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.core.middleware\", \"message\": \"Compression middleware registered\", \"module\": \"__init__\", \"function\": \"_register_compression_middleware\", \"line\": 194}\n{\"timestamp\": \"2025-09-23T19:57:58.052515+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.core.versioning\", \"message\": \"Registered API version: 1.0.0\", \"module\": \"versioning\", \"function\": \"register_version\", \"line\": 152}\n{\"timestamp\": \"2025-09-23T19:57:58.052545+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.core.versioning\", \"message\": \"Registered API version: 1.1.0\", \"module\": \"versioning\", \"function\": \"register_version\", \"line\": 152}\n{\"timestamp\": \"2025-09-23T19:57:58.052572+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.core.versioning\", \"message\": \"Registered API version: 2.0.0\", \"module\": \"versioning\", \"function\": \"register_version\", \"line\": 152}\n{\"timestamp\": \"2025-09-23T19:57:58.052598+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.core.middleware\", \"message\": \"Versioning middleware registered\", \"module\": \"__init__\", \"function\": \"_register_versioning_middleware\", \"line\": 169}\n{\"timestamp\": \"2025-09-23T19:57:58.052624+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.core.middleware\", \"message\": \"Trusted host middleware registered\", \"module\": \"__init__\", \"function\": \"_register_trust_middleware\", \"line\": 62}\n{\"timestamp\": \"2025-09-23T19:57:58.052652+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.core.middleware\", \"message\": \"Logging middleware registered\", \"module\": \"__init__\", \"function\": \"_register_logging_middleware\", \"line\": 74}\n{\"timestamp\": \"2025-09-23T19:57:58.052843+00:00\", \"level\": \"WARNING\", \"logger\": \"apps.backend.core.middleware\", \"message\": \"Prometheus metrics not available: No module named 'prometheus_fastapi_instrumentator'\", \"module\": \"__init__\", \"function\": \"_register_metrics_middleware\", \"line\": 291}\n{\"timestamp\": \"2025-09-23T19:57:58.052872+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.core.middleware\", \"message\": \"All middleware components registered successfully\", \"module\": \"__init__\", \"function\": \"register_middleware\", \"line\": 37}\n{\"timestamp\": \"2025-09-23T19:57:58.052898+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.api.routers\", \"message\": \"Registering router components...\", \"module\": \"__init__\", \"function\": \"register_routers\", \"line\": 22}\n{\"timestamp\": \"2025-09-23T19:57:58.053626+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.api.routers\", \"message\": \"Health check endpoints loaded successfully\", \"module\": \"__init__\", \"function\": \"_register_core_routers\", \"line\": 51}\n{\"timestamp\": \"2025-09-23T19:57:58.053901+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.api.routers\", \"message\": \"Pusher endpoints loaded successfully\", \"module\": \"__init__\", \"function\": \"_register_core_routers\", \"line\": 59}\n{\"timestamp\": \"2025-09-23T19:57:58.055024+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.api.routers\", \"message\": \"Content generation endpoints loaded successfully\", \"module\": \"__init__\", \"function\": \"_register_core_routers\", \"line\": 67}\n{\"timestamp\": \"2025-09-23T19:57:58.055079+00:00\", \"level\": \"WARNING\", \"logger\": \"apps.backend.api.routers\", \"message\": \"Could not load legacy health check endpoints: No module named 'apps.backend.api.health.health_checks'; 'apps.backend.api.health' is not a package\", \"module\": \"__init__\", \"function\": \"_register_core_routers\", \"line\": 80}\n{\"timestamp\": \"2025-09-23T19:57:58.056679+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.api.routers\", \"message\": \"Legacy Pusher endpoints loaded successfully\", \"module\": \"__init__\", \"function\": \"_register_core_routers\", \"line\": 89}\n{\"timestamp\": \"2025-09-23T19:57:58.056751+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.api.routers\", \"message\": \"Clerk webhook endpoints loaded successfully\", \"module\": \"__init__\", \"function\": \"_register_webhook_routers\", \"line\": 179}\n{\"timestamp\": \"2025-09-23T19:57:58.057065+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.api.routers\", \"message\": \"Stripe webhook endpoints loaded successfully\", \"module\": \"__init__\", \"function\": \"_register_webhook_routers\", \"line\": 187}\n{\"timestamp\": \"2025-09-23T19:57:58.086808+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.api.routers\", \"message\": \"Legacy API v1 endpoints loaded successfully\", \"module\": \"__init__\", \"function\": \"_register_legacy_routers\", \"line\": 202}\n{\"timestamp\": \"2025-09-23T19:57:58.091697+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.api.routers\", \"message\": \"Legacy analytics endpoints loaded successfully\", \"module\": \"__init__\", \"function\": \"_register_legacy_routers\", \"line\": 221}\n{\"timestamp\": \"2025-09-23T19:57:58.091752+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.api.routers\", \"message\": \"All router components registered successfully\", \"module\": \"__init__\", \"function\": \"register_routers\", \"line\": 37}\n{\"timestamp\": \"2025-09-23T19:57:58.091783+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.core.app_factory\", \"message\": \"Middleware and routers registered successfully\", \"module\": \"app_factory\", \"function\": \"create_app\", \"line\": 154}\n{\"timestamp\": \"2025-09-23T19:57:58.091812+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.core.app_factory\", \"message\": \"FastAPI application created and configured successfully\", \"module\": \"app_factory\", \"function\": \"create_app\", \"line\": 158}\n", "log": [{"name": "apps.backend.core.app_factory", "msg": "Creating app in testing mode", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/Volumes/G-DRIVE ArmorATD/Development/Clients/ToolBoxAI-Solutions/apps/backend/core/app_factory.py", "filename": "app_factory.py", "module": "app_factory", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 116, "funcName": "create_app", "created": 1758657478.051872, "msecs": 51.0, "relativeCreated": 6103.431940078735, "thread": 8709562560, "threadName": "MainThread", "processName": "MainProcess", "process": 36092, "taskName": null}]}, "teardown": {"duration": 0.010911332996329293, "outcome": "passed"}}, {"nodeid": "tests/test_refactored_backend.py::TestApplicationFactory::test_environment_variable_handling", "lineno": 84, "outcome": "passed", "keywords": ["test_environment_variable_handling", "TestApplicationFactory", "test_refactored_backend.py", "tests", "ToolBoxAI-Solutions", ""], "setup": {"duration": 0.0013563329994212836, "outcome": "passed", "log": [{"name": "apps.backend.core.security.rate_limit_manager", "msg": "Rate limiting testing mode enabled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/Volumes/G-DRIVE ArmorATD/Development/Clients/ToolBoxAI-Solutions/apps/backend/core/security/rate_limit_manager.py", "filename": "rate_limit_manager.py", "module": "rate_limit_manager", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 238, "funcName": "set_testing_mode", "created": 1758657478.1044219, "msecs": 104.0, "relativeCreated": 6155.981779098511, "thread": 8709562560, "threadName": "MainThread", "processName": "MainProcess", "process": 36092, "taskName": null}]}, "call": {"duration": 0.04162124999857042, "outcome": "passed", "stdout": "{\"timestamp\": \"2025-09-23T19:57:58.105120+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.core.app_factory\", \"message\": \"Created FastAPI app without lifespan (testing/import mode)\", \"module\": \"app_factory\", \"function\": \"create_app\", \"line\": 141}\n{\"timestamp\": \"2025-09-23T19:57:58.105239+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.core.middleware\", \"message\": \"Registering middleware components...\", \"module\": \"__init__\", \"function\": \"register_middleware\", \"line\": 23}\n{\"timestamp\": \"2025-09-23T19:57:58.105280+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.core.middleware\", \"message\": \"Error handling middleware registered\", \"module\": \"__init__\", \"function\": \"_register_error_handling_middleware\", \"line\": 206}\n{\"timestamp\": \"2025-09-23T19:57:58.105321+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.core.middleware\", \"message\": \"Compression middleware registered\", \"module\": \"__init__\", \"function\": \"_register_compression_middleware\", \"line\": 194}\n{\"timestamp\": \"2025-09-23T19:57:58.105372+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.core.versioning\", \"message\": \"Registered API version: 1.0.0\", \"module\": \"versioning\", \"function\": \"register_version\", \"line\": 152}\n{\"timestamp\": \"2025-09-23T19:57:58.105410+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.core.versioning\", \"message\": \"Registered API version: 1.1.0\", \"module\": \"versioning\", \"function\": \"register_version\", \"line\": 152}\n{\"timestamp\": \"2025-09-23T19:57:58.105443+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.core.versioning\", \"message\": \"Registered API version: 2.0.0\", \"module\": \"versioning\", \"function\": \"register_version\", \"line\": 152}\n{\"timestamp\": \"2025-09-23T19:57:58.105479+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.core.middleware\", \"message\": \"Versioning middleware registered\", \"module\": \"__init__\", \"function\": \"_register_versioning_middleware\", \"line\": 169}\n{\"timestamp\": \"2025-09-23T19:57:58.105517+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.core.middleware\", \"message\": \"Trusted host middleware registered\", \"module\": \"__init__\", \"function\": \"_register_trust_middleware\", \"line\": 62}\n{\"timestamp\": \"2025-09-23T19:57:58.105545+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.core.middleware\", \"message\": \"Logging middleware registered\", \"module\": \"__init__\", \"function\": \"_register_logging_middleware\", \"line\": 74}\n{\"timestamp\": \"2025-09-23T19:57:58.105746+00:00\", \"level\": \"WARNING\", \"logger\": \"apps.backend.core.middleware\", \"message\": \"Prometheus metrics not available: No module named 'prometheus_fastapi_instrumentator'\", \"module\": \"__init__\", \"function\": \"_register_metrics_middleware\", \"line\": 291}\n{\"timestamp\": \"2025-09-23T19:57:58.105781+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.core.middleware\", \"message\": \"All middleware components registered successfully\", \"module\": \"__init__\", \"function\": \"register_middleware\", \"line\": 37}\n{\"timestamp\": \"2025-09-23T19:57:58.105809+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.api.routers\", \"message\": \"Registering router components...\", \"module\": \"__init__\", \"function\": \"register_routers\", \"line\": 22}\n{\"timestamp\": \"2025-09-23T19:57:58.106519+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.api.routers\", \"message\": \"Health check endpoints loaded successfully\", \"module\": \"__init__\", \"function\": \"_register_core_routers\", \"line\": 51}\n{\"timestamp\": \"2025-09-23T19:57:58.106780+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.api.routers\", \"message\": \"Pusher endpoints loaded successfully\", \"module\": \"__init__\", \"function\": \"_register_core_routers\", \"line\": 59}\n{\"timestamp\": \"2025-09-23T19:57:58.107881+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.api.routers\", \"message\": \"Content generation endpoints loaded successfully\", \"module\": \"__init__\", \"function\": \"_register_core_routers\", \"line\": 67}\n{\"timestamp\": \"2025-09-23T19:57:58.107932+00:00\", \"level\": \"WARNING\", \"logger\": \"apps.backend.api.routers\", \"message\": \"Could not load legacy health check endpoints: No module named 'apps.backend.api.health.health_checks'; 'apps.backend.api.health' is not a package\", \"module\": \"__init__\", \"function\": \"_register_core_routers\", \"line\": 80}\n{\"timestamp\": \"2025-09-23T19:57:58.109496+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.api.routers\", \"message\": \"Legacy Pusher endpoints loaded successfully\", \"module\": \"__init__\", \"function\": \"_register_core_routers\", \"line\": 89}\n{\"timestamp\": \"2025-09-23T19:57:58.109566+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.api.routers\", \"message\": \"Clerk webhook endpoints loaded successfully\", \"module\": \"__init__\", \"function\": \"_register_webhook_routers\", \"line\": 179}\n{\"timestamp\": \"2025-09-23T19:57:58.109880+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.api.routers\", \"message\": \"Stripe webhook endpoints loaded successfully\", \"module\": \"__init__\", \"function\": \"_register_webhook_routers\", \"line\": 187}\n{\"timestamp\": \"2025-09-23T19:57:58.140120+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.api.routers\", \"message\": \"Legacy API v1 endpoints loaded successfully\", \"module\": \"__init__\", \"function\": \"_register_legacy_routers\", \"line\": 202}\n{\"timestamp\": \"2025-09-23T19:57:58.145231+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.api.routers\", \"message\": \"Legacy analytics endpoints loaded successfully\", \"module\": \"__init__\", \"function\": \"_register_legacy_routers\", \"line\": 221}\n{\"timestamp\": \"2025-09-23T19:57:58.145312+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.api.routers\", \"message\": \"All router components registered successfully\", \"module\": \"__init__\", \"function\": \"register_routers\", \"line\": 37}\n{\"timestamp\": \"2025-09-23T19:57:58.145347+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.core.app_factory\", \"message\": \"Middleware and routers registered successfully\", \"module\": \"app_factory\", \"function\": \"create_app\", \"line\": 154}\n{\"timestamp\": \"2025-09-23T19:57:58.145376+00:00\", \"level\": \"INFO\", \"logger\": \"apps.backend.core.app_factory\", \"message\": \"FastAPI application created and configured successfully\", \"module\": \"app_factory\", \"function\": \"create_app\", \"line\": 158}\n", "log": [{"name": "apps.backend.core.app_factory", "msg": "Creating app in testing mode", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/Volumes/G-DRIVE ArmorATD/Development/Clients/ToolBoxAI-Solutions/apps/backend/core/app_factory.py", "filename": "app_factory.py", "module": "app_factory", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 116, "funcName": "create_app", "created": 1758657478.104744, "msecs": 104.0, "relativeCreated": 6156.303882598877, "thread": 8709562560, "threadName": "MainThread", "processName": "MainProcess", "process": 36092, "taskName": null}]}, "teardown": {"duration": 0.012013958999887109, "outcome": "passed"}}]}