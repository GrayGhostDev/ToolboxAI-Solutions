# ToolboxAI Roblox Environment - Environment Variables Template
# Copy this file to .env and fill in your actual values
# SECURITY WARNING: Never commit .env files with real credentials to version control

# =============================================================================
# CORE APPLICATION SETTINGS
# =============================================================================

# Environment Configuration
ENVIRONMENT=development                # development, staging, production
DEBUG=true                            # Enable debug mode (false in production)
LOG_LEVEL=INFO                        # DEBUG, INFO, WARNING, ERROR, CRITICAL

# API Server Configuration
API_HOST=127.0.0.1                   # Bind address for FastAPI server
API_PORT=8008                         # Port for FastAPI server
FLASK_HOST=127.0.0.1                  # Bind address for Flask bridge
FLASK_PORT=5001                       # Port for Flask bridge server

# MCP Server Configuration  
MCP_HOST=localhost                    # MCP WebSocket server host
MCP_PORT=9876                        # MCP WebSocket server port
MCP_MEMORY_LIMIT=128000               # Token limit for context window

# =============================================================================
# AI/ML CONFIGURATION
# =============================================================================

# OpenAI API Configuration (REQUIRED)
OPENAI_API_KEY=your-openai-api-key-here
OPENAI_MODEL=gpt-4                    # Default model for content generation
OPENAI_TEMPERATURE=0.7                # Creativity level (0.0-1.0)
OPENAI_MAX_TOKENS=2048               # Maximum tokens per response

# Alternative AI Providers (Optional)
# ANTHROPIC_API_KEY=your-anthropic-key-here
# COHERE_API_KEY=your-cohere-key-here
# HUGGINGFACE_API_KEY=your-hf-key-here

# LangChain Configuration
LANGCHAIN_TRACING_V2=true            # Enable LangSmith tracing
LANGCHAIN_API_KEY=your-langsmith-key  # LangSmith API key for monitoring
LANGCHAIN_PROJECT=toolboxai-roblox    # Project name for tracing

# =============================================================================
# LMS INTEGRATION (Learning Management Systems)
# =============================================================================

# Schoology API Configuration
SCHOOLOGY_KEY=your-schoology-api-key
SCHOOLOGY_SECRET=your-schoology-secret
SCHOOLOGY_BASE_URL=https://api.schoology.com/v1

# Canvas LMS Configuration  
CANVAS_API_KEY=your-canvas-access-token
CANVAS_BASE_URL=https://your-school.instructure.com/api/v1

# Google Classroom (Optional)
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret
GOOGLE_REDIRECT_URI=http://localhost:8008/auth/google/callback

# Moodle Integration (Optional)
MOODLE_BASE_URL=https://your-moodle-site.com
MOODLE_TOKEN=your-moodle-webservice-token

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# PostgreSQL Database (Primary)
DATABASE_URL=postgresql://user:password@localhost:5432/toolboxai_roblox
DB_HOST=localhost
DB_PORT=5432  
DB_NAME=toolboxai_roblox
DB_USER=postgres
DB_PASSWORD=your-db-password
DB_POOL_SIZE=10                      # Connection pool size
DB_MAX_OVERFLOW=20                   # Maximum connection overflow

# Redis Cache Configuration
REDIS_URL=redis://localhost:6379/0
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=                      # Leave empty if no password
REDIS_TTL=3600                       # Default TTL in seconds

# =============================================================================
# AUTHENTICATION & SECURITY
# =============================================================================

# JWT Configuration
JWT_SECRET_KEY=your-super-secret-jwt-key-change-this-in-production
JWT_ALGORITHM=HS256
JWT_EXPIRATION_HOURS=24              # Token expiration time
JWT_REFRESH_EXPIRATION_DAYS=30       # Refresh token expiration

# OAuth Configuration (for LMS integration)
OAUTH_SECRET_KEY=your-oauth-secret-key
OAUTH_SALT=your-oauth-salt

# Security Settings
ALLOWED_HOSTS=localhost,127.0.0.1    # Comma-separated list of allowed hosts
CORS_ORIGINS=http://localhost:3000,http://localhost:2368  # Frontend URLs
API_RATE_LIMIT=100                   # Requests per minute per IP
API_RATE_LIMIT_WINDOW=60             # Rate limit window in seconds

# =============================================================================
# ROBLOX CONFIGURATION
# =============================================================================

# Roblox Studio Plugin Configuration
ROBLOX_PLUGIN_PORT=64989             # Port for Studio plugin communication
ROBLOX_UNIVERSE_ID=your-universe-id  # Your Roblox universe ID (optional)
ROBLOX_PLACE_ID=your-place-id        # Your Roblox place ID (optional)

# Roblox API Configuration (if using Roblox APIs)
ROBLOX_API_KEY=your-roblox-api-key   # Roblox Open Cloud API key (optional)
ROBLOX_GROUP_ID=your-group-id        # Your Roblox group ID (optional)

# =============================================================================
# EXTERNAL SERVICES
# =============================================================================

# GitHub Integration (for CI/CD and issue tracking)
GITHUB_TOKEN=your-github-personal-access-token
GITHUB_REPO_OWNER=ToolBoxAI-Solutions
GITHUB_REPO_NAME=ToolboxAI-Roblox-Environment
GITHUB_WEBHOOK_SECRET=your-webhook-secret

# Email Service (for notifications)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USE_TLS=true
SMTP_USERNAME=your-email@gmail.com
SMTP_PASSWORD=your-app-specific-password

# CDN Configuration (Optional - for serving static content)
CDN_BASE_URL=https://your-cdn-domain.com
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_S3_BUCKET=your-s3-bucket-name
AWS_REGION=us-east-1

# =============================================================================
# MONITORING & OBSERVABILITY
# =============================================================================

# Prometheus Metrics
ENABLE_METRICS=true                  # Enable Prometheus metrics endpoint
METRICS_PORT=9090                    # Prometheus metrics port

# Logging Configuration
LOG_FILE=logs/application.log        # Log file path
LOG_MAX_SIZE=10MB                   # Max log file size
LOG_BACKUP_COUNT=5                  # Number of backup log files
LOG_FORMAT=json                     # Log format: json or text

# Health Check Configuration  
HEALTH_CHECK_INTERVAL=30             # Health check interval in seconds
HEALTH_CHECK_TIMEOUT=10              # Health check timeout in seconds

# Sentry Error Monitoring (Optional)
SENTRY_DSN=your-sentry-dsn-here     # Sentry DSN for error tracking
SENTRY_ENVIRONMENT=development       # Environment name for Sentry

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# AI Features
ENABLE_CONTENT_GENERATION=true       # Enable AI content generation
ENABLE_QUIZ_GENERATION=true         # Enable AI quiz generation  
ENABLE_TERRAIN_GENERATION=true      # Enable AI terrain generation
ENABLE_SCRIPT_GENERATION=true       # Enable AI script generation

# LMS Features
ENABLE_SCHOOLOGY_SYNC=true          # Enable Schoology synchronization
ENABLE_CANVAS_SYNC=true             # Enable Canvas synchronization
ENABLE_GOOGLE_CLASSROOM=false       # Enable Google Classroom (experimental)

# Experimental Features
ENABLE_SWARM_INTELLIGENCE=true      # Enable swarm agent coordination
ENABLE_SPARC_FRAMEWORK=true         # Enable SPARC decision framework
ENABLE_MCP_PROTOCOL=true            # Enable Model Context Protocol
ENABLE_REAL_TIME_COLLABORATION=true # Enable real-time editing features

# =============================================================================
# DEVELOPMENT & TESTING
# =============================================================================

# Development Tools
ENABLE_DEV_TOOLS=true               # Enable development tools in debug mode
ENABLE_API_DOCS=true                # Enable FastAPI automatic documentation
AUTO_RELOAD=true                    # Enable auto-reload in development

# Testing Configuration
TEST_DATABASE_URL=postgresql://test:test@localhost:5432/toolboxai_test
TEST_REDIS_URL=redis://localhost:6379/1
PYTEST_TIMEOUT=30                   # Test timeout in seconds
COVERAGE_THRESHOLD=90               # Minimum test coverage percentage

# Mock API Keys (for testing - DO NOT USE IN PRODUCTION)
TEST_OPENAI_API_KEY=sk-test-key-for-testing-only
TEST_SCHOOLOGY_KEY=test-schoology-key
TEST_SCHOOLOGY_SECRET=test-schoology-secret

# =============================================================================
# PRODUCTION DEPLOYMENT
# =============================================================================

# Production Security (Only set in production)
# SSL_CERT_PATH=/path/to/ssl/cert.pem
# SSL_KEY_PATH=/path/to/ssl/private.key
# SECURE_COOKIES=true
# HSTS_MAX_AGE=31536000

# Container Configuration (Docker)
# DOCKER_COMPOSE_FILE=docker-compose.prod.yml
# CONTAINER_REGISTRY=ghcr.io/toolboxai-solutions
# IMAGE_TAG=latest

# Load Balancer Configuration
# LOAD_BALANCER_URL=https://your-load-balancer.com
# HEALTH_CHECK_PATH=/health
# PROXY_TIMEOUT=30

# =============================================================================
# USAGE NOTES
# =============================================================================

# 1. REQUIRED VARIABLES:
#    - OPENAI_API_KEY: Get from https://platform.openai.com/api-keys
#    - DATABASE_URL or individual DB_* variables
#    - JWT_SECRET_KEY: Generate a secure random string
#
# 2. LMS INTEGRATION:
#    - For Schoology: Get API keys from your Schoology admin
#    - For Canvas: Generate access token in Canvas settings
#    - Test with read-only permissions first
#
# 3. SECURITY CONSIDERATIONS:
#    - Use strong, unique passwords and API keys
#    - Never commit this file with real credentials
#    - Rotate credentials regularly in production
#    - Use environment-specific configurations
#
# 4. DEVELOPMENT SETUP:
#    - Copy this file to .env
#    - Fill in at minimum: OPENAI_API_KEY, database settings
#    - Start with development/testing API keys
#    - Gradually add LMS integration as needed
#
# 5. PRODUCTION DEPLOYMENT:
#    - Set ENVIRONMENT=production
#    - Set DEBUG=false  
#    - Use strong JWT_SECRET_KEY
#    - Configure SSL certificates
#    - Set appropriate CORS_ORIGINS
#    - Enable monitoring and logging
#
# 6. TROUBLESHOOTING:
#    - Check logs/application.log for detailed error messages
#    - Verify API keys are valid and have required permissions
#    - Ensure database and Redis are running and accessible
#    - Test connectivity to external services (OpenAI, LMS platforms)

# =============================================================================
# QUICK START CHECKLIST
# =============================================================================

# □ Copy .env.example to .env
# □ Set OPENAI_API_KEY (required for AI features)
# □ Configure database (PostgreSQL recommended)
# □ Set up Redis for caching
# □ Generate secure JWT_SECRET_KEY
# □ Configure at least one LMS integration (optional but recommended)
# □ Test with: python server/test_servers.py
# □ Access docs at: http://127.0.0.1:8008/docs