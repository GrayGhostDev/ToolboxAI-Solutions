--- Logging error ---
Traceback (most recent call last):
  File "/Users/grayghostdata/.pyenv/versions/3.12.11/lib/python3.12/logging/__init__.py", line 1163, in emit
    stream.write(msg + self.terminator)
ValueError: I/O operation on closed file.
Call stack:
  File "/Volumes/G-DRIVE ArmorATD/Development/Clients/ToolBoxAI-Solutions/./ToolboxAI-Roblox-Environment/venv_clean/bin/pytest", line 9, in <module>
    sys.exit(console_main())
  File "/Volumes/G-DRIVE ArmorATD/Development/Clients/ToolBoxAI-Solutions/ToolBoxAI-Roblox-Environment/venv_clean/lib/python3.12/site-packages/_pytest/config/__init__.py", line 201, in console_main
    code = main()
  File "/Volumes/G-DRIVE ArmorATD/Development/Clients/ToolBoxAI-Solutions/ToolBoxAI-Roblox-Environment/venv_clean/lib/python3.12/site-packages/_pytest/config/__init__.py", line 175, in main
    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)
  File "/Volumes/G-DRIVE ArmorATD/Development/Clients/ToolBoxAI-Solutions/ToolBoxAI-Roblox-Environment/venv_clean/lib/python3.12/site-packages/pluggy/_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "/Volumes/G-DRIVE ArmorATD/Development/Clients/ToolBoxAI-Solutions/ToolBoxAI-Roblox-Environment/venv_clean/lib/python3.12/site-packages/pluggy/_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/Volumes/G-DRIVE ArmorATD/Development/Clients/ToolBoxAI-Solutions/ToolBoxAI-Roblox-Environment/venv_clean/lib/python3.12/site-packages/pluggy/_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "/Volumes/G-DRIVE ArmorATD/Development/Clients/ToolBoxAI-Solutions/ToolBoxAI-Roblox-Environment/venv_clean/lib/python3.12/site-packages/_pytest/main.py", line 336, in pytest_cmdline_main
    return wrap_session(config, _main)
  File "/Volumes/G-DRIVE ArmorATD/Development/Clients/ToolBoxAI-Solutions/ToolBoxAI-Roblox-Environment/venv_clean/lib/python3.12/site-packages/_pytest/main.py", line 324, in wrap_session
    config.hook.pytest_sessionfinish(
  File "/Volumes/G-DRIVE ArmorATD/Development/Clients/ToolBoxAI-Solutions/ToolBoxAI-Roblox-Environment/venv_clean/lib/python3.12/site-packages/pluggy/_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "/Volumes/G-DRIVE ArmorATD/Development/Clients/ToolBoxAI-Solutions/ToolBoxAI-Roblox-Environment/venv_clean/lib/python3.12/site-packages/pluggy/_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/Volumes/G-DRIVE ArmorATD/Development/Clients/ToolBoxAI-Solutions/ToolBoxAI-Roblox-Environment/venv_clean/lib/python3.12/site-packages/pluggy/_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "/Volumes/G-DRIVE ArmorATD/Development/Clients/ToolBoxAI-Solutions/tests/conftest.py", line 220, in pytest_sessionfinish
    logger.info("Test session finished, cleaning up rate limit state")
Message: 'Test session finished, cleaning up rate limit state'
Arguments: ()
============================= test session starts ==============================
platform darwin -- Python 3.12.11, pytest-8.4.2, pluggy-1.6.0
rootdir: /Volumes/G-DRIVE ArmorATD/Development/Clients/ToolBoxAI-Solutions
configfile: pyproject.toml
plugins: asyncio-1.1.0, anyio-4.10.0, cov-6.2.1, mock-3.12.0, langsmith-0.4.27
asyncio: mode=Mode.STRICT, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collected 391 items / 3 errors

==================================== ERRORS ====================================
______________ ERROR collecting tests/unit/core/test_security.py _______________
ImportError while importing test module '/Volumes/G-DRIVE ArmorATD/Development/Clients/ToolBoxAI-Solutions/tests/unit/core/test_security.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/Users/grayghostdata/.pyenv/versions/3.12.11/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/unit/core/test_security.py:22: in <module>
    from apps.backend.services.websocket_handler import WebSocketConnectionManager, MessageHandler
E   ImportError: cannot import name 'WebSocketConnectionManager' from 'apps.backend.services.websocket_handler' (/Volumes/G-DRIVE ArmorATD/Development/Clients/ToolBoxAI-Solutions/apps/backend/services/websocket_handler.py)
_____ ERROR collecting tests/unit/core/test_websocket_config_overrides.py ______
ImportError while importing test module '/Volumes/G-DRIVE ArmorATD/Development/Clients/ToolBoxAI-Solutions/tests/unit/core/test_websocket_config_overrides.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/Users/grayghostdata/.pyenv/versions/3.12.11/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/unit/core/test_websocket_config_overrides.py:8: in <module>
    from apps.backend.rate_limit_manager import get_rate_limit_manager, RateLimitMode
E   ModuleNotFoundError: No module named 'apps.backend.rate_limit_manager'
___ ERROR collecting tests/unit/core/test_websocket_metrics_token_expired.py ___
ImportError while importing test module '/Volumes/G-DRIVE ArmorATD/Development/Clients/ToolBoxAI-Solutions/tests/unit/core/test_websocket_metrics_token_expired.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/Users/grayghostdata/.pyenv/versions/3.12.11/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests/unit/core/test_websocket_metrics_token_expired.py:7: in <module>
    from apps.backend.websocket_auth import WebSocketAuthSession
E   ModuleNotFoundError: No module named 'apps.backend.websocket_auth'
=============================== warnings summary ===============================
ToolBoxAI-Roblox-Environment/venv_clean/lib/python3.12/site-packages/passlib/utils/__init__.py:854
  /Volumes/G-DRIVE ArmorATD/Development/Clients/ToolBoxAI-Solutions/ToolBoxAI-Roblox-Environment/venv_clean/lib/python3.12/site-packages/passlib/utils/__init__.py:854: DeprecationWarning: 'crypt' is deprecated and slated for removal in Python 3.13
    from crypt import crypt as _crypt

ToolBoxAI-Roblox-Environment/venv_clean/lib/python3.12/site-packages/pydantic/_internal/_generate_schema.py:298
ToolBoxAI-Roblox-Environment/venv_clean/lib/python3.12/site-packages/pydantic/_internal/_generate_schema.py:298
ToolBoxAI-Roblox-Environment/venv_clean/lib/python3.12/site-packages/pydantic/_internal/_generate_schema.py:298
ToolBoxAI-Roblox-Environment/venv_clean/lib/python3.12/site-packages/pydantic/_internal/_generate_schema.py:298
ToolBoxAI-Roblox-Environment/venv_clean/lib/python3.12/site-packages/pydantic/_internal/_generate_schema.py:298
ToolBoxAI-Roblox-Environment/venv_clean/lib/python3.12/site-packages/pydantic/_internal/_generate_schema.py:298
ToolBoxAI-Roblox-Environment/venv_clean/lib/python3.12/site-packages/pydantic/_internal/_generate_schema.py:298
  /Volumes/G-DRIVE ArmorATD/Development/Clients/ToolBoxAI-Solutions/ToolBoxAI-Roblox-Environment/venv_clean/lib/python3.12/site-packages/pydantic/_internal/_generate_schema.py:298: PydanticDeprecatedSince20: `json_encoders` is deprecated. See https://docs.pydantic.dev/2.11/concepts/serialization/#custom-serializers for alternatives. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.11/migration/
    warnings.warn(

ToolBoxAI-Roblox-Environment/venv_clean/lib/python3.12/site-packages/pydantic/fields.py:1058
ToolBoxAI-Roblox-Environment/venv_clean/lib/python3.12/site-packages/pydantic/fields.py:1058
  /Volumes/G-DRIVE ArmorATD/Development/Clients/ToolBoxAI-Solutions/ToolBoxAI-Roblox-Environment/venv_clean/lib/python3.12/site-packages/pydantic/fields.py:1058: PydanticDeprecatedSince20: `min_items` is deprecated and will be removed, use `min_length` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.11/migration/
    warn('`min_items` is deprecated and will be removed, use `min_length` instead', DeprecationWarning)

ToolBoxAI-Roblox-Environment/venv_clean/lib/python3.12/site-packages/pydantic/fields.py:1064
ToolBoxAI-Roblox-Environment/venv_clean/lib/python3.12/site-packages/pydantic/fields.py:1064
  /Volumes/G-DRIVE ArmorATD/Development/Clients/ToolBoxAI-Solutions/ToolBoxAI-Roblox-Environment/venv_clean/lib/python3.12/site-packages/pydantic/fields.py:1064: PydanticDeprecatedSince20: `max_items` is deprecated and will be removed, use `max_length` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.11/migration/
    warn('`max_items` is deprecated and will be removed, use `max_length` instead', DeprecationWarning)

ToolBoxAI-Roblox-Environment/venv_clean/lib/python3.12/site-packages/reportlab/lib/rl_safe_eval.py:12
  /Volumes/G-DRIVE ArmorATD/Development/Clients/ToolBoxAI-Solutions/ToolBoxAI-Roblox-Environment/venv_clean/lib/python3.12/site-packages/reportlab/lib/rl_safe_eval.py:12: DeprecationWarning: ast.NameConstant is deprecated and will be removed in Python 3.14; use ast.Constant instead
    haveNameConstant = hasattr(ast,'NameConstant')

core/agents/testing_agent.py:182
  /Volumes/G-DRIVE ArmorATD/Development/Clients/ToolBoxAI-Solutions/core/agents/testing_agent.py:182: PytestCollectionWarning: cannot collect test class 'TestingAgent' because it has a __init__ constructor (from: tests/integration/test_agent_integration_new.py)
    class TestingAgent(BaseAgent):

core/agents/testing_agent.py:182
  /Volumes/G-DRIVE ArmorATD/Development/Clients/ToolBoxAI-Solutions/core/agents/testing_agent.py:182: PytestCollectionWarning: cannot collect test class 'TestingAgent' because it has a __init__ constructor (from: tests/integration/test_content_generation_pipeline.py)
    class TestingAgent(BaseAgent):

tests/integration/test_fastapi_comprehensive.py:39
  /Volumes/G-DRIVE ArmorATD/Development/Clients/ToolBoxAI-Solutions/tests/integration/test_fastapi_comprehensive.py:39: PytestCollectionWarning: cannot collect test class 'TestResult' because it has a __init__ constructor (from: tests/integration/test_fastapi_comprehensive.py)
    class TestResult:

core/agents/testing_agent.py:182
  /Volumes/G-DRIVE ArmorATD/Development/Clients/ToolBoxAI-Solutions/core/agents/testing_agent.py:182: PytestCollectionWarning: cannot collect test class 'TestingAgent' because it has a __init__ constructor (from: tests/unit/core/test_agents.py)
    class TestingAgent(BaseAgent):

core/agents/testing_agent.py:85
  /Volumes/G-DRIVE ArmorATD/Development/Clients/ToolBoxAI-Solutions/core/agents/testing_agent.py:85: PytestCollectionWarning: cannot collect test class 'TestType' because it has a __init__ constructor (from: tests/unit/core/test_agents.py)
    class TestType(Enum):

core/agents/testing_agent.py:95
  /Volumes/G-DRIVE ArmorATD/Development/Clients/ToolBoxAI-Solutions/core/agents/testing_agent.py:95: PytestCollectionWarning: cannot collect test class 'TestStatus' because it has a __init__ constructor (from: tests/unit/core/test_agents.py)
    class TestStatus(Enum):

core/agents/testing_agent.py:115
  /Volumes/G-DRIVE ArmorATD/Development/Clients/ToolBoxAI-Solutions/core/agents/testing_agent.py:115: PytestCollectionWarning: cannot collect test class 'TestSuiteResult' because it has a __init__ constructor (from: tests/unit/core/test_agents.py)
    @dataclass

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=========================== short test summary info ============================
ERROR tests/unit/core/test_security.py
ERROR tests/unit/core/test_websocket_config_overrides.py
ERROR tests/unit/core/test_websocket_metrics_token_expired.py
!!!!!!!!!!!!!!!!!!! Interrupted: 3 errors during collection !!!!!!!!!!!!!!!!!!!!
======================= 20 warnings, 3 errors in 24.00s ========================
