# ================================================================================
# TOOLBOXAI STAGING DEPLOYMENT CONFIGURATION
# ================================================================================
# Copy this file to staging.env and customize for your staging environment
# ================================================================================

# Environment Configuration
ENVIRONMENT=staging
DEPLOYMENT_MODE=staging
DEBUG=true

# Render Configuration
RENDER_SERVICE_NAME=toolboxai-staging
RENDER_REGION=oregon

# Supabase Configuration (Staging Project)
SUPABASE_URL=https://your-staging-project.supabase.co
SUPABASE_ANON_KEY=your-staging-anon-key
SUPABASE_SERVICE_KEY=your-staging-service-key
SUPABASE_STORAGE_BUCKET=toolboxai-staging-backups

# Database Configuration
DATABASE_URL=postgresql://user:password@staging-db.example.com:5432/toolboxai_staging
PRIMARY_DB_URL=postgresql://user:password@staging-primary.example.com:5432/toolboxai_staging
READ_REPLICA_URLS_STRING=postgresql://user:password@staging-replica.example.com:5432/toolboxai_staging

# Redis Configuration
REDIS_URL=redis://staging-redis.example.com:6379
REDIS_PASSWORD=staging-redis-password

# Load Balancer Configuration
LB_BACKEND_ENDPOINT=https://api-staging.toolboxai.com
LB_FRONTEND_ENDPOINT=https://staging.toolboxai.com
ORIGIN_IP=10.0.2.100
API_ORIGIN_IP=10.0.2.101

# CDN Configuration
CDN_PROVIDER=cloudflare
CDN_DOMAIN=staging.toolboxai.com
ORIGIN_DOMAIN=origin-staging.toolboxai.com

# CloudFlare Configuration
CLOUDFLARE_API_TOKEN=your-cloudflare-token
CLOUDFLARE_ZONE_ID=your-staging-zone-id

# Application Configuration
BACKEND_HEALTH_ENDPOINT=https://api-staging.toolboxai.com/health
FRONTEND_HEALTH_ENDPOINT=https://staging.toolboxai.com/health
API_ENDPOINT=https://api-staging.toolboxai.com/api/v1
WEBSOCKET_ENDPOINT=wss://api-staging.toolboxai.com/ws

# Authentication & Security (use test keys for staging)
JWT_SECRET=staging-jwt-secret
ENCRYPTION_KEY=staging-encryption-key

# Monitoring & Alerting
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/your/staging/webhook
ALERT_EMAIL=staging-alerts@toolboxai.com

# Performance Configuration (more relaxed for staging)
MAX_RESPONSE_TIME_API=5000
MAX_RESPONSE_TIME_FRONTEND=8000
MAX_RESPONSE_TIME_DATABASE=2000
CONNECTION_POOL_SIZE=5
LOAD_TEST_DURATION=30

# Deployment Configuration
ROLLOUT_STRATEGY=immediate
ROLLOUT_PERCENTAGE=100
ROLLBACK_ON_FAILURE=true
HEALTH_CHECK_TIMEOUT=180

# Container Registry
DOCKER_REGISTRY=your-registry.com
DOCKER_NAMESPACE=toolboxai
IMAGE_TAG_PREFIX=staging

# Cache Configuration
CACHE_WARMER_BASE_URL=https://staging.toolboxai.com
CACHE_WARMER_API_URL=https://api-staging.toolboxai.com
CACHE_WARMER_CDN_URL=https://cdn-staging.toolboxai.com
CACHE_WARMER_CONCURRENT=5
CACHE_WARMER_TIMEOUT=30
CACHE_WARMER_RETRIES=2

# Feature Flags (enable all for testing)
ENABLE_RATE_LIMITING=true
ENABLE_CORS=true
ENABLE_COMPRESSION=true
ENABLE_CACHING=true
ENABLE_MONITORING=true

# Third-party Services (staging keys)
PUSHER_APP_ID=staging-pusher-app-id
PUSHER_KEY=staging-pusher-key
PUSHER_SECRET=staging-pusher-secret
PUSHER_CLUSTER=us2

# Resource Limits (smaller for staging)
CPU_LIMIT=500m
MEMORY_LIMIT=1Gi
CPU_REQUEST=250m
MEMORY_REQUEST=512Mi

# Scaling Configuration (smaller scale)
MIN_REPLICAS=1
MAX_REPLICAS=3
TARGET_CPU_UTILIZATION=80
TARGET_MEMORY_UTILIZATION=85