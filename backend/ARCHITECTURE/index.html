<!DOCTYPE html>
<html class="no-js" lang="en"> <head><meta charset="utf-8"/><meta content="width=device-width,initial-scale=1" name="viewport"/><meta content="Comprehensive documentation for the ToolBoxAI educational platform with AI-powered content generation and Roblox integration" name="description"/><meta content="ToolBoxAI Team" name="author"/><link href="https://docs.toolboxai.com/backend/ARCHITECTURE/" rel="canonical"/><link href="../../images/favicon.png" rel="icon"/><meta content="mkdocs-1.6.1, mkdocs-material-9.6.21" name="generator"/><title>Backend Architecture Documentation - ToolBoxAI Solutions Documentation</title><link href="../../assets/stylesheets/main.2a3383ac.min.css" rel="stylesheet"/><link href="../../assets/stylesheets/palette.06af60db.min.css" rel="stylesheet"/><link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/><link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback" rel="stylesheet"/><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link href="../../css/timeago.css" rel="stylesheet"/><link href="../../stylesheets/extra.css" rel="stylesheet"/><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id="__analytics">function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-XXXXXXXXXX"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-XXXXXXXXXX",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXXXXX",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script><script>if("undefined"!=typeof __md_analytics){var consent=__md_get("__consent");consent&&consent.analytics&&__md_analytics()}</script></head> <body data-md-color-accent="indigo" data-md-color-primary="indigo" data-md-color-scheme="default" dir="ltr"> <input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/> <input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/> <label class="md-overlay" for="__drawer"></label> <div data-md-component="skip"> <a class="md-skip" href="#backend-architecture-documentation"> Skip to content </a> </div> <div data-md-component="announce"> </div> <div data-md-color-scheme="default" data-md-component="outdated" hidden=""> </div> <header class="md-header md-header--shadow md-header--lifted" data-md-component="header"> <nav aria-label="Header" class="md-header__inner md-grid"> <a aria-label="ToolBoxAI Solutions Documentation" class="md-header__button md-logo" data-md-component="logo" href="../.." title="ToolBoxAI Solutions Documentation"> <img alt="logo" src="../../images/logo.png"/> </a> <label class="md-header__button md-icon" for="__drawer"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg> </label> <div class="md-header__title" data-md-component="header-title"> <div class="md-header__ellipsis"> <div class="md-header__topic"> <span class="md-ellipsis"> ToolBoxAI Solutions Documentation </span> </div> <div class="md-header__topic" data-md-component="header-topic"> <span class="md-ellipsis"> Backend Architecture Documentation </span> </div> </div> </div> <form class="md-header__option" data-md-component="palette"> <input aria-label="Switch to light mode" class="md-option" data-md-color-accent="indigo" data-md-color-media="(prefers-color-scheme)" data-md-color-primary="indigo" data-md-color-scheme="default" id="__palette_0" name="__palette" type="radio"/> <label class="md-header__button md-icon" for="__palette_1" hidden="" title="Switch to light mode"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9zM20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zm-9.15 3.96h2.3L12 9z"></path></svg> </label> <input aria-label="Switch to dark mode" class="md-option" data-md-color-accent="indigo" data-md-color-media="(prefers-color-scheme: light)" data-md-color-primary="indigo" data-md-color-scheme="default" id="__palette_1" name="__palette" type="radio"/> <label class="md-header__button md-icon" for="__palette_2" hidden="" title="Switch to dark mode"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"></path></svg> </label> <input aria-label="Switch to system preference" class="md-option" data-md-color-accent="indigo" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-primary="black" data-md-color-scheme="slate" id="__palette_2" name="__palette" type="radio"/> <label class="md-header__button md-icon" for="__palette_0" hidden="" title="Switch to system preference"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"></path></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for="__search"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg> </label> <div class="md-search" data-md-component="search" role="dialog"> <label class="md-search__overlay" for="__search"></label> <div class="md-search__inner" role="search"> <form class="md-search__form" name="search"> <input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="Search" required="" spellcheck="false" type="text"/> <label class="md-search__icon md-icon" for="__search"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg> </label> <nav aria-label="Search" class="md-search__options"> <a aria-label="Share" class="md-search__icon md-icon" data-clipboard="" data-clipboard-text="" data-md-component="search-share" href="javascript:void(0)" tabindex="-1" title="Share"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"></path></svg> </a> <button aria-label="Clear" class="md-search__icon md-icon" tabindex="-1" title="Clear" type="reset"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg> </button> </nav> <div class="md-search__suggest" data-md-component="search-suggest"></div> </form> <div class="md-search__output"> <div class="md-search__scrollwrap" data-md-scrollfix="" tabindex="0"> <div class="md-search-result" data-md-component="search-result"> <div class="md-search-result__meta"> Initializing search </div> <ol class="md-search-result__list" role="presentation"></ol> </div> </div> </div> </div> </div> <div class="md-header__source"> <a class="md-source" data-md-component="source" href="https://github.com/ToolBoxAI-Solutions/toolboxai" title="Go to repository"> <div class="md-source__icon md-icon"> <svg viewbox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><!-- Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"></path></svg> </div> <div class="md-source__repository"> ToolBoxAI-Solutions/toolboxai </div> </a> </div> </nav> <nav aria-label="Tabs" class="md-tabs" data-md-component="tabs"> <div class="md-grid"> <ul class="md-tabs__list"> <li class="md-tabs__item"> <a class="md-tabs__link" href="../.."> Home </a> </li> <li class="md-tabs__item"> <a class="md-tabs__link" href="../../01-overview/README.md"> Getting Started </a> </li> <li class="md-tabs__item"> <a class="md-tabs__link" href="../../02-architecture/README.md"> Architecture </a> </li> <li class="md-tabs__item"> <a class="md-tabs__link" href="../../03-api/README.md"> API Documentation </a> </li> <li class="md-tabs__item"> <a class="md-tabs__link" href="../../04-implementation/README.md"> Implementation </a> </li> <li class="md-tabs__item"> <a class="md-tabs__link" href="../../05-features/README.md"> Features </a> </li> <li class="md-tabs__item"> <a class="md-tabs__link" href="../../06-user-guides/README.md"> User Guides </a> </li> <li class="md-tabs__item"> <a class="md-tabs__link" href="../../07-operations/README.md"> Operations </a> </li> <li class="md-tabs__item"> <a class="md-tabs__link" href="../../08-reference/README.md"> Reference </a> </li> <li class="md-tabs__item"> <a class="md-tabs__link" href="../../09-meta/README.md"> Meta </a> </li> <li class="md-tabs__item"> <a class="md-tabs__link" href="../../10-reports/README.md"> Reports </a> </li> <li class="md-tabs__item"> <a class="md-tabs__link" href="../../11-sdks/README.md"> SDKs </a> </li> <li class="md-tabs__item"> <a class="md-tabs__link" href="../../phase2/"> Phase 2 (Current) </a> </li> <li class="md-tabs__item"> <a class="md-tabs__link" href="../../DOCUMENTATION_AUDIT_REPORT_2025-10-01/"> Audit &amp; Reports </a> </li> </ul> </div> </nav> </header> <div class="md-container" data-md-component="container"> <main class="md-main" data-md-component="main"> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation"> <div class="md-sidebar__scrollwrap"> <div class="md-sidebar__inner"> <nav aria-label="Navigation" class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" data-md-level="0"> <label class="md-nav__title" for="__drawer"> <a aria-label="ToolBoxAI Solutions Documentation" class="md-nav__button md-logo" data-md-component="logo" href="../.." title="ToolBoxAI Solutions Documentation"> <img alt="logo" src="../../images/logo.png"/> </a> ToolBoxAI Solutions Documentation </label> <div class="md-nav__source"> <a class="md-source" data-md-component="source" href="https://github.com/ToolBoxAI-Solutions/toolboxai" title="Go to repository"> <div class="md-source__icon md-icon"> <svg viewbox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><!-- Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"></path></svg> </div> <div class="md-source__repository"> ToolBoxAI-Solutions/toolboxai </div> </a> </div> <ul class="md-nav__list" data-md-scrollfix=""> <li class="md-nav__item"> <a class="md-nav__link" href="../.."> <span class="md-ellipsis"> Home </span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a class="md-nav__link" href="../../01-overview/README.md"> <span class="md-ellipsis"> Getting Started </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a class="md-nav__link" href="../../02-architecture/README.md"> <span class="md-ellipsis"> Architecture </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a class="md-nav__link" href="../../03-api/README.md"> <span class="md-ellipsis"> API Documentation </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a class="md-nav__link" href="../../04-implementation/README.md"> <span class="md-ellipsis"> Implementation </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a class="md-nav__link" href="../../05-features/README.md"> <span class="md-ellipsis"> Features </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a class="md-nav__link" href="../../06-user-guides/README.md"> <span class="md-ellipsis"> User Guides </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a class="md-nav__link" href="../../07-operations/README.md"> <span class="md-ellipsis"> Operations </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a class="md-nav__link" href="../../08-reference/README.md"> <span class="md-ellipsis"> Reference </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a class="md-nav__link" href="../../09-meta/README.md"> <span class="md-ellipsis"> Meta </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a class="md-nav__link" href="../../10-reports/README.md"> <span class="md-ellipsis"> Reports </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a class="md-nav__link" href="../../11-sdks/README.md"> <span class="md-ellipsis"> SDKs </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a class="md-nav__link" href="../../phase2/"> <span class="md-ellipsis"> Phase 2 (Current) </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a class="md-nav__link" href="../../DOCUMENTATION_AUDIT_REPORT_2025-10-01/"> <span class="md-ellipsis"> Audit &amp; Reports </span> <span class="md-nav__icon md-icon"></span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-content" data-md-component="content"> <article class="md-content__inner md-typeset"> <a class="md-content__button md-icon" href="https://github.com/ToolBoxAI-Solutions/toolboxai/edit/main/docs/backend/ARCHITECTURE.md" rel="edit" title="Edit this page"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75z"></path></svg> </a> <a class="md-content__button md-icon" href="https://github.com/ToolBoxAI-Solutions/toolboxai/raw/main/docs/backend/ARCHITECTURE.md" title="View source of this page"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0 8a5 5 0 0 1-5-5 5 5 0 0 1 5-5 5 5 0 0 1 5 5 5 5 0 0 1-5 5m0-12.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5"></path></svg> </a> <h1 id="backend-architecture-documentation">Backend Architecture Documentation<a class="headerlink" href="#backend-architecture-documentation" title="Permanent link">¶</a></h1> <h2 id="table-of-contents">Table of Contents<a class="headerlink" href="#table-of-contents" title="Permanent link">¶</a></h2> <ul> <li><a href="#system-overview">System Overview</a></li> <li><a href="#architecture-diagram">Architecture Diagram</a></li> <li><a href="#component-descriptions">Component Descriptions</a></li> <li><a href="#data-flow">Data Flow</a></li> <li><a href="#module-dependencies">Module Dependencies</a></li> <li><a href="#technology-stack">Technology Stack</a></li> <li><a href="#configuration-management">Configuration Management</a></li> </ul> <h2 id="system-overview">System Overview<a class="headerlink" href="#system-overview" title="Permanent link">¶</a></h2> <p>The ToolboxAI Backend is a comprehensive FastAPI-based microservice architecture designed for educational content generation and management. The system features a monolithic main application with modular router-based organization, real-time communication capabilities, and extensive AI agent integration.</p> <h3 id="key-characteristics">Key Characteristics<a class="headerlink" href="#key-characteristics" title="Permanent link">¶</a></h3> <ul> <li><strong>Framework</strong>: FastAPI with async/await support</li> <li><strong>Architecture Pattern</strong>: Modular Monolith with Router-based separation</li> <li><strong>Real-time</strong>: Pusher Channels for WebSocket replacement</li> <li><strong>AI Integration</strong>: Multi-agent system with SPARC framework</li> <li><strong>Security</strong>: JWT authentication, CORS, rate limiting, circuit breakers</li> <li><strong>Monitoring</strong>: Sentry integration, comprehensive logging, health checks</li> <li><strong>Database</strong>: PostgreSQL with async SQLAlchemy, Redis for caching</li> </ul> <h2 id="architecture-diagram">Architecture Diagram<a class="headerlink" href="#architecture-diagram" title="Permanent link">¶</a></h2> <pre class="mermaid"><code>graph TB
    subgraph "Client Layer"
        A[Dashboard Frontend] --&gt; |HTTP/Pusher| B[FastAPI Main App]
        C[Mobile App] --&gt; |HTTP| B
        D[Roblox Plugin] --&gt; |HTTP| B
    end

    subgraph "API Gateway Layer"
        B[FastAPI Main App&lt;br/&gt;Port 8009] --&gt; |Router Delegation| E[API Router System]
    end

    subgraph "Router Layer"
        E --&gt; F[Auth Router]
        E --&gt; G[Dashboard Router]
        E --&gt; H[Content Router]
        E --&gt; I[Roblox Router]
        E --&gt; J[AI Chat Router]
        E --&gt; K[Analytics Router]
        E --&gt; L[Admin Router]
    end

    subgraph "Service Layer"
        F --&gt; M[Auth Service]
        G --&gt; N[Dashboard Service]
        H --&gt; O[Content Service]
        I --&gt; P[Roblox Service]
        J --&gt; Q[AI Service]
        K --&gt; R[Analytics Service]
        L --&gt; S[Admin Service]
    end

    subgraph "Core Systems"
        T[Agent System]
        U[MCP Server]
        V[Security Core]
        W[Monitoring Core]
        X[Database Core]
    end

    subgraph "Week 2 Services"
        DD[Semantic Cache&lt;br/&gt;LangCache]
        EE[API Key Manager]
        FF[Migration Manager]
        GG[Backup System]
        HH[Enhanced Roblox]
    end

    subgraph "External Services"
        Y[PostgreSQL&lt;br/&gt;Port 5432]
        Z[Redis&lt;br/&gt;Port 6379]
        AA[Pusher Channels]
        BB[Sentry]
        CC[OpenAI API]
        II[Redis Cloud&lt;br/&gt;TLS]
        JJ[S3 Storage]
    end

    M --&gt; V
    N --&gt; T
    O --&gt; T
    P --&gt; T
    Q --&gt; T
    R --&gt; X
    S --&gt; V

    T --&gt; U
    V --&gt; Y
    X --&gt; Y
    X --&gt; Z
    B --&gt; AA
    W --&gt; BB
    T --&gt; CC

    DD --&gt; II
    DD --&gt; Z
    EE --&gt; Y
    EE --&gt; Z
    FF --&gt; Y
    GG --&gt; JJ
    GG --&gt; Y
    HH --&gt; P

    Q --&gt; DD
    O --&gt; DD</code></pre> <h2 id="system-architecture-diagram">System Architecture Diagram<a class="headerlink" href="#system-architecture-diagram" title="Permanent link">¶</a></h2> <div class="language-text highlight"><pre><span></span><code><span id="__span-0-1"><a href="#__codelineno-0-1" id="__codelineno-0-1" name="__codelineno-0-1"></a>┌─────────────────────────────────────────────────────────────────────┐
</span><span id="__span-0-2"><a href="#__codelineno-0-2" id="__codelineno-0-2" name="__codelineno-0-2"></a>│                        ToolboxAI Backend System                     │
</span><span id="__span-0-3"><a href="#__codelineno-0-3" id="__codelineno-0-3" name="__codelineno-0-3"></a>├─────────────────────────────────────────────────────────────────────┤
</span><span id="__span-0-4"><a href="#__codelineno-0-4" id="__codelineno-0-4" name="__codelineno-0-4"></a>│                                                                     │
</span><span id="__span-0-5"><a href="#__codelineno-0-5" id="__codelineno-0-5" name="__codelineno-0-5"></a>│  ┌─────────────────┐    ┌──────────────────┐    ┌─────────────────┐ │
</span><span id="__span-0-6"><a href="#__codelineno-0-6" id="__codelineno-0-6" name="__codelineno-0-6"></a>│  │   Dashboard     │    │   Mobile App     │    │   Roblox Game   │ │
</span><span id="__span-0-7"><a href="#__codelineno-0-7" id="__codelineno-0-7" name="__codelineno-0-7"></a>│  │   (React)       │    │   (Flutter)      │    │   Environment   │ │
</span><span id="__span-0-8"><a href="#__codelineno-0-8" id="__codelineno-0-8" name="__codelineno-0-8"></a>│  └─────────────────┘    └──────────────────┘    └─────────────────┘ │
</span><span id="__span-0-9"><a href="#__codelineno-0-9" id="__codelineno-0-9" name="__codelineno-0-9"></a>│           │                       │                       │         │
</span><span id="__span-0-10"><a href="#__codelineno-0-10" id="__codelineno-0-10" name="__codelineno-0-10"></a>│           └───────────────────────┼───────────────────────┘         │
</span><span id="__span-0-11"><a href="#__codelineno-0-11" id="__codelineno-0-11" name="__codelineno-0-11"></a>│                                   │                                 │
</span><span id="__span-0-12"><a href="#__codelineno-0-12" id="__codelineno-0-12" name="__codelineno-0-12"></a>├─────────────────────────────────────────────────────────────────────┤
</span><span id="__span-0-13"><a href="#__codelineno-0-13" id="__codelineno-0-13" name="__codelineno-0-13"></a>│                            API Gateway Layer                        │
</span><span id="__span-0-14"><a href="#__codelineno-0-14" id="__codelineno-0-14" name="__codelineno-0-14"></a>│  ┌─────────────────────────────────────────────────────────────────┐ │
</span><span id="__span-0-15"><a href="#__codelineno-0-15" id="__codelineno-0-15" name="__codelineno-0-15"></a>│  │                     FastAPI Application                         │ │
</span><span id="__span-0-16"><a href="#__codelineno-0-16" id="__codelineno-0-16" name="__codelineno-0-16"></a>│  │  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐            │ │
</span><span id="__span-0-17"><a href="#__codelineno-0-17" id="__codelineno-0-17" name="__codelineno-0-17"></a>│  │  │   CORS      │  │ Rate Limit  │  │ Auth/JWT    │            │ │
</span><span id="__span-0-18"><a href="#__codelineno-0-18" id="__codelineno-0-18" name="__codelineno-0-18"></a>│  │  │ Middleware  │  │ Middleware  │  │ Middleware  │            │ │
</span><span id="__span-0-19"><a href="#__codelineno-0-19" id="__codelineno-0-19" name="__codelineno-0-19"></a>│  │  └─────────────┘  └─────────────┘  └─────────────┘            │ │
</span><span id="__span-0-20"><a href="#__codelineno-0-20" id="__codelineno-0-20" name="__codelineno-0-20"></a>│  └─────────────────────────────────────────────────────────────────┘ │
</span><span id="__span-0-21"><a href="#__codelineno-0-21" id="__codelineno-0-21" name="__codelineno-0-21"></a>├─────────────────────────────────────────────────────────────────────┤
</span><span id="__span-0-22"><a href="#__codelineno-0-22" id="__codelineno-0-22" name="__codelineno-0-22"></a>│                         Resilience Layer                           │
</span><span id="__span-0-23"><a href="#__codelineno-0-23" id="__codelineno-0-23" name="__codelineno-0-23"></a>│  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────────┐     │
</span><span id="__span-0-24"><a href="#__codelineno-0-24" id="__codelineno-0-24" name="__codelineno-0-24"></a>│  │ Circuit Breaker │  │ Retry Logic     │  │ Bulkhead        │     │
</span><span id="__span-0-25"><a href="#__codelineno-0-25" id="__codelineno-0-25" name="__codelineno-0-25"></a>│  │ Middleware      │  │ Middleware      │  │ Middleware      │     │
</span><span id="__span-0-26"><a href="#__codelineno-0-26" id="__codelineno-0-26" name="__codelineno-0-26"></a>│  └─────────────────┘  └─────────────────┘  └─────────────────┘     │
</span><span id="__span-0-27"><a href="#__codelineno-0-27" id="__codelineno-0-27" name="__codelineno-0-27"></a>├─────────────────────────────────────────────────────────────────────┤
</span><span id="__span-0-28"><a href="#__codelineno-0-28" id="__codelineno-0-28" name="__codelineno-0-28"></a>│                           Core Services                            │
</span><span id="__span-0-29"><a href="#__codelineno-0-29" id="__codelineno-0-29" name="__codelineno-0-29"></a>│  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────────┐     │
</span><span id="__span-0-30"><a href="#__codelineno-0-30" id="__codelineno-0-30" name="__codelineno-0-30"></a>│  │ Agent Service   │  │ Pusher Service  │  │ Auth Service    │     │
</span><span id="__span-0-31"><a href="#__codelineno-0-31" id="__codelineno-0-31" name="__codelineno-0-31"></a>│  │ - AI Agents     │  │ - Real-time     │  │ - JWT Tokens    │     │
</span><span id="__span-0-32"><a href="#__codelineno-0-32" id="__codelineno-0-32" name="__codelineno-0-32"></a>│  │ - Task Queue    │  │ - WebSockets    │  │ - User Sessions │     │
</span><span id="__span-0-33"><a href="#__codelineno-0-33" id="__codelineno-0-33" name="__codelineno-0-33"></a>│  │ - Orchestration │  │ - Channels      │  │ - Role-based    │     │
</span><span id="__span-0-34"><a href="#__codelineno-0-34" id="__codelineno-0-34" name="__codelineno-0-34"></a>│  └─────────────────┘  └─────────────────┘  └─────────────────┘     │
</span><span id="__span-0-35"><a href="#__codelineno-0-35" id="__codelineno-0-35" name="__codelineno-0-35"></a>│                                                                     │
</span><span id="__span-0-36"><a href="#__codelineno-0-36" id="__codelineno-0-36" name="__codelineno-0-36"></a>│  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────────┐     │
</span><span id="__span-0-37"><a href="#__codelineno-0-37" id="__codelineno-0-37" name="__codelineno-0-37"></a>│  │ Content Service │  │ Roblox Service  │  │ Analytics       │     │
</span><span id="__span-0-38"><a href="#__codelineno-0-38" id="__codelineno-0-38" name="__codelineno-0-38"></a>│  │ - AI Generation │  │ - Asset Mgmt    │  │ - Performance   │     │
</span><span id="__span-0-39"><a href="#__codelineno-0-39" id="__codelineno-0-39" name="__codelineno-0-39"></a>│  │ - Educational   │  │ - Script Deploy │  │ - User Behavior │     │
</span><span id="__span-0-40"><a href="#__codelineno-0-40" id="__codelineno-0-40" name="__codelineno-0-40"></a>│  │ - Validation    │  │ - Testing       │  │ - System Health │     │
</span><span id="__span-0-41"><a href="#__codelineno-0-41" id="__codelineno-0-41" name="__codelineno-0-41"></a>│  └─────────────────┘  └─────────────────┘  └─────────────────┘     │
</span><span id="__span-0-42"><a href="#__codelineno-0-42" id="__codelineno-0-42" name="__codelineno-0-42"></a>├─────────────────────────────────────────────────────────────────────┤
</span><span id="__span-0-43"><a href="#__codelineno-0-43" id="__codelineno-0-43" name="__codelineno-0-43"></a>│              Week 2 Production Services (September 2025)           │
</span><span id="__span-0-44"><a href="#__codelineno-0-44" id="__codelineno-0-44" name="__codelineno-0-44"></a>│  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────────┐     │
</span><span id="__span-0-45"><a href="#__codelineno-0-45" id="__codelineno-0-45" name="__codelineno-0-45"></a>│  │ Semantic Cache  │  │ API Key Manager │  │ Migration Mgr   │     │
</span><span id="__span-0-46"><a href="#__codelineno-0-46" id="__codelineno-0-46" name="__codelineno-0-46"></a>│  │ - LangCache     │  │ - Key Generation│  │ - Blue-Green    │     │
</span><span id="__span-0-47"><a href="#__codelineno-0-47" id="__codelineno-0-47" name="__codelineno-0-47"></a>│  │ - Similarity    │  │ - Rate Limiting │  │ - Rollback      │     │
</span><span id="__span-0-48"><a href="#__codelineno-0-48" id="__codelineno-0-48" name="__codelineno-0-48"></a>│  │ - Fallback      │  │ - Scope Control │  │ - Health Check  │     │
</span><span id="__span-0-49"><a href="#__codelineno-0-49" id="__codelineno-0-49" name="__codelineno-0-49"></a>│  └─────────────────┘  └─────────────────┘  └─────────────────┘     │
</span><span id="__span-0-50"><a href="#__codelineno-0-50" id="__codelineno-0-50" name="__codelineno-0-50"></a>│                                                                     │
</span><span id="__span-0-51"><a href="#__codelineno-0-51" id="__codelineno-0-51" name="__codelineno-0-51"></a>│  ┌─────────────────┐  ┌─────────────────┐                           │
</span><span id="__span-0-52"><a href="#__codelineno-0-52" id="__codelineno-0-52" name="__codelineno-0-52"></a>│  │ Backup Manager  │  │ Enhanced Roblox │                           │
</span><span id="__span-0-53"><a href="#__codelineno-0-53" id="__codelineno-0-53" name="__codelineno-0-53"></a>│  │ - Encryption    │  │ - Asset Bundle  │                           │
</span><span id="__span-0-54"><a href="#__codelineno-0-54" id="__codelineno-0-54" name="__codelineno-0-54"></a>│  │ - S3 Upload     │  │ - Versioning    │                           │
</span><span id="__span-0-55"><a href="#__codelineno-0-55" id="__codelineno-0-55" name="__codelineno-0-55"></a>│  │ - PITR Recovery │  │ - Deployment    │                           │
</span><span id="__span-0-56"><a href="#__codelineno-0-56" id="__codelineno-0-56" name="__codelineno-0-56"></a>│  └─────────────────┘  └─────────────────┘                           │
</span><span id="__span-0-57"><a href="#__codelineno-0-57" id="__codelineno-0-57" name="__codelineno-0-57"></a>├─────────────────────────────────────────────────────────────────────┤
</span><span id="__span-0-58"><a href="#__codelineno-0-58" id="__codelineno-0-58" name="__codelineno-0-58"></a>│                          Integration Layer                         │
</span><span id="__span-0-59"><a href="#__codelineno-0-59" id="__codelineno-0-59" name="__codelineno-0-59"></a>│  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────────┐     │
</span><span id="__span-0-60"><a href="#__codelineno-0-60" id="__codelineno-0-60" name="__codelineno-0-60"></a>│  │   OpenAI API    │  │   Supabase      │  │     Redis       │     │
</span><span id="__span-0-61"><a href="#__codelineno-0-61" id="__codelineno-0-61" name="__codelineno-0-61"></a>│  │ - GPT Models    │  │ - Database      │  │ - Caching       │     │
</span><span id="__span-0-62"><a href="#__codelineno-0-62" id="__codelineno-0-62" name="__codelineno-0-62"></a>│  │ - Embeddings    │  │ - Real-time DB  │  │ - Sessions      │     │
</span><span id="__span-0-63"><a href="#__codelineno-0-63" id="__codelineno-0-63" name="__codelineno-0-63"></a>│  │ - Fine-tuning   │  │ - Storage       │  │ - Task Queue    │     │
</span><span id="__span-0-64"><a href="#__codelineno-0-64" id="__codelineno-0-64" name="__codelineno-0-64"></a>│  └─────────────────┘  └─────────────────┘  └─────────────────┘     │
</span><span id="__span-0-65"><a href="#__codelineno-0-65" id="__codelineno-0-65" name="__codelineno-0-65"></a>│                                                                     │
</span><span id="__span-0-66"><a href="#__codelineno-0-66" id="__codelineno-0-66" name="__codelineno-0-66"></a>│  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────────┐     │
</span><span id="__span-0-67"><a href="#__codelineno-0-67" id="__codelineno-0-67" name="__codelineno-0-67"></a>│  │  PostgreSQL     │  │     Sentry      │  │    Pusher       │     │
</span><span id="__span-0-68"><a href="#__codelineno-0-68" id="__codelineno-0-68" name="__codelineno-0-68"></a>│  │ - User Data     │  │ - Error Track   │  │ - Real-time     │     │
</span><span id="__span-0-69"><a href="#__codelineno-0-69" id="__codelineno-0-69" name="__codelineno-0-69"></a>│  │ - Content Store │  │ - Performance   │  │ - WebSocket Alt │     │
</span><span id="__span-0-70"><a href="#__codelineno-0-70" id="__codelineno-0-70" name="__codelineno-0-70"></a>│  │ - Analytics     │  │ - Monitoring    │  │ - Channels      │     │
</span><span id="__span-0-71"><a href="#__codelineno-0-71" id="__codelineno-0-71" name="__codelineno-0-71"></a>│  └─────────────────┘  └─────────────────┘  └─────────────────┘     │
</span><span id="__span-0-72"><a href="#__codelineno-0-72" id="__codelineno-0-72" name="__codelineno-0-72"></a>└─────────────────────────────────────────────────────────────────────┘
</span></code></pre></div> <h2 id="component-architecture">Component Architecture<a class="headerlink" href="#component-architecture" title="Permanent link">¶</a></h2> <h3 id="1-api-layer-fastapi-application">1. <strong>API Layer (FastAPI Application)</strong><a class="headerlink" href="#1-api-layer-fastapi-application" title="Permanent link">¶</a></h3> <h4 id="core-fastapi-app-appsbackendmainpy">Core FastAPI App (<code>apps/backend/main.py</code>)<a class="headerlink" href="#core-fastapi-app-appsbackendmainpy" title="Permanent link">¶</a></h4> <ul> <li><strong>Port</strong>: 8009</li> <li><strong>Features</strong>: Comprehensive FastAPI server with lifespan management</li> <li><strong>Middleware Stack</strong>:</li> <li>CORS with secure configuration</li> <li>Rate limiting</li> <li>Authentication/Authorization</li> <li>Request correlation ID tracking</li> <li>Security headers</li> <li>Error handling and monitoring</li> </ul> <h4 id="app-factory-pattern-appsbackendcoreapp_factorypy">App Factory Pattern (<code>apps/backend/core/app_factory.py</code>)<a class="headerlink" href="#app-factory-pattern-appsbackendcoreapp_factorypy" title="Permanent link">¶</a></h4> <ul> <li><strong>Purpose</strong>: Creates configurable FastAPI instances</li> <li><strong>Modes</strong>: Production and testing configurations</li> <li><strong>Features</strong>:</li> <li>Skip lifespan for testing</li> <li>Conditional Sentry initialization</li> <li>Environment-specific configurations</li> </ul> <h3 id="2-resilience-fault-tolerance">2. <strong>Resilience &amp; Fault Tolerance</strong><a class="headerlink" href="#2-resilience-fault-tolerance" title="Permanent link">¶</a></h3> <h4 id="circuit-breaker-system-appsbackendcorecircuit_breakerpy">Circuit Breaker System (<code>apps/backend/core/circuit_breaker.py</code>)<a class="headerlink" href="#circuit-breaker-system-appsbackendcorecircuit_breakerpy" title="Permanent link">¶</a></h4> <ul> <li><strong>Pattern</strong>: Circuit Breaker with Half-Open state</li> <li><strong>Features</strong>:</li> <li>Configurable failure thresholds</li> <li>Exponential backoff with jitter</li> <li>Fallback function support</li> <li>Comprehensive metrics tracking</li> <li>Async support with timeout handling</li> </ul> <h4 id="resilience-middleware-appsbackendapimiddlewareresiliencepy">Resilience Middleware (<code>apps/backend/api/middleware/resilience.py</code>)<a class="headerlink" href="#resilience-middleware-appsbackendapimiddlewareresiliencepy" title="Permanent link">¶</a></h4> <ul> <li><strong>Components</strong>:</li> <li><strong>ResilienceMiddleware</strong>: Path-based circuit breaker routing</li> <li><strong>RetryMiddleware</strong>: Automatic retry with exponential backoff</li> <li><strong>BulkheadMiddleware</strong>: Resource isolation and capacity management</li> </ul> <h4 id="rate-limiting-appsbackendcorerate_limiterpy">Rate Limiting (<code>apps/backend/core/rate_limiter.py</code>)<a class="headerlink" href="#rate-limiting-appsbackendcorerate_limiterpy" title="Permanent link">¶</a></h4> <ul> <li><strong>Features</strong>: Token bucket algorithm</li> <li><strong>Scope</strong>: Per-user, per-endpoint, global limits</li> <li><strong>Integration</strong>: Redis-backed with failover</li> </ul> <h3 id="3-ai-agent-system">3. <strong>AI Agent System</strong><a class="headerlink" href="#3-ai-agent-system" title="Permanent link">¶</a></h3> <h4 id="agent-service-appsbackendservicesagent_servicepy">Agent Service (<code>apps/backend/services/agent_service.py</code>)<a class="headerlink" href="#agent-service-appsbackendservicesagent_servicepy" title="Permanent link">¶</a></h4> <ul> <li><strong>Architecture</strong>: Centralized agent lifecycle management</li> <li><strong>Agent Types</strong>:</li> <li>Content Generation Agent</li> <li>Quiz Generation Agent</li> <li>Terrain Generation Agent</li> <li>Script Generation Agent</li> <li>Code Review Agent</li> <li>Roblox specialized agents (Asset, Testing, Analytics)</li> </ul> <h4 id="agent-features">Agent Features:<a class="headerlink" href="#agent-features" title="Permanent link">¶</a></h4> <ul> <li><strong>Task Routing</strong>: Intelligent agent selection and load balancing</li> <li><strong>Status Management</strong>: Real-time status tracking (Idle, Busy, Error, etc.)</li> <li><strong>Performance Metrics</strong>: Success rates, execution times, resource usage</li> <li><strong>Persistence</strong>: Supabase integration for task and agent data</li> <li><strong>Real-time Updates</strong>: Pusher integration for live status updates</li> </ul> <h4 id="task-execution-flow">Task Execution Flow:<a class="headerlink" href="#task-execution-flow" title="Permanent link">¶</a></h4> <div class="language-text highlight"><pre><span></span><code><span id="__span-1-1"><a href="#__codelineno-1-1" id="__codelineno-1-1" name="__codelineno-1-1"></a>Request → Task Creation → Agent Selection → Task Execution → Result → Notification
</span><span id="__span-1-2"><a href="#__codelineno-1-2" id="__codelineno-1-2" name="__codelineno-1-2"></a>    ↓           ↓              ↓              ↓           ↓          ↓
</span><span id="__span-1-3"><a href="#__codelineno-1-3" id="__codelineno-1-3" name="__codelineno-1-3"></a> Validate → Queue if     → Circuit     → Monitor    → Store   → Pusher
</span><span id="__span-1-4"><a href="#__codelineno-1-4" id="__codelineno-1-4" name="__codelineno-1-4"></a> Input      no agents       Breaker       Progress    Result    Event
</span></code></pre></div> <h3 id="4-real-time-communication">4. <strong>Real-time Communication</strong><a class="headerlink" href="#4-real-time-communication" title="Permanent link">¶</a></h3> <h4 id="pusher-integration-appsbackendservicespusherpy">Pusher Integration (<code>apps/backend/services/pusher.py</code>)<a class="headerlink" href="#pusher-integration-appsbackendservicespusherpy" title="Permanent link">¶</a></h4> <ul> <li><strong>Channels</strong>:</li> <li><code>dashboard-updates</code>: General dashboard notifications</li> <li><code>content-generation</code>: AI content creation progress</li> <li><code>agent-status</code>: Agent activity monitoring</li> <li><code>user-{user_id}</code>: Private user channels</li> <li><strong>Events</strong>: Task lifecycle, agent status, system notifications</li> <li><strong>Authentication</strong>: Private channel auth via JWT</li> </ul> <h4 id="websocket-legacy-support-appsbackendwebsocketpy">WebSocket Legacy Support (<code>apps/backend/websocket.py</code>)<a class="headerlink" href="#websocket-legacy-support-appsbackendwebsocketpy" title="Permanent link">¶</a></h4> <ul> <li><strong>Endpoints</strong>: <code>/ws/content</code>, <code>/ws/roblox</code>, <code>/ws/agent/{agent_id}</code></li> <li><strong>Features</strong>: Backward compatibility during Pusher migration</li> <li><strong>Security</strong>: JWT-based authentication</li> </ul> <h3 id="5-security-architecture">5. <strong>Security Architecture</strong><a class="headerlink" href="#5-security-architecture" title="Permanent link">¶</a></h3> <h4 id="authentication-system-appsbackendapiauth">Authentication System (<code>apps/backend/api/auth/</code>)<a class="headerlink" href="#authentication-system-appsbackendapiauth" title="Permanent link">¶</a></h4> <ul> <li><strong>JWT Implementation</strong>: Access and refresh tokens</li> <li><strong>Security Features</strong>:</li> <li>Token rotation and revocation</li> <li>Role-based access control (Admin, Teacher, Student)</li> <li>Multi-factor authentication support</li> <li>Session management with Redis</li> </ul> <h4 id="security-middleware-appsbackendcoresecurity">Security Middleware (<code>apps/backend/core/security/</code>)<a class="headerlink" href="#security-middleware-appsbackendcoresecurity" title="Permanent link">¶</a></h4> <ul> <li><strong>Components</strong>:</li> <li>CORS configuration with environment-aware origins</li> <li>Security headers (HSTS, CSP, X-Frame-Options)</li> <li>Rate limiting with sliding window</li> <li>Input validation and sanitization</li> <li>Audit logging</li> </ul> <h3 id="6-configuration-management">6. <strong>Configuration Management</strong><a class="headerlink" href="#6-configuration-management" title="Permanent link">¶</a></h3> <h4 id="centralized-settings-appsbackendcoreconfigpy">Centralized Settings (<code>apps/backend/core/config.py</code>)<a class="headerlink" href="#centralized-settings-appsbackendcoreconfigpy" title="Permanent link">¶</a></h4> <ul> <li><strong>Source</strong>: <code>toolboxai_settings</code> module for shared configuration</li> <li><strong>Features</strong>:</li> <li>Environment-specific settings</li> <li>API key management</li> <li>Database connection strings</li> <li>Service URL configurations</li> <li>Development/production mode detection</li> </ul> <h4 id="environment-variables">Environment Variables:<a class="headerlink" href="#environment-variables" title="Permanent link">¶</a></h4> <div class="language-bash highlight"><pre><span></span><code><span id="__span-2-1"><a href="#__codelineno-2-1" id="__codelineno-2-1" name="__codelineno-2-1"></a><span class="c1"># Core Configuration</span>
</span><span id="__span-2-2"><a href="#__codelineno-2-2" id="__codelineno-2-2" name="__codelineno-2-2"></a><span class="nv">DATABASE_URL</span><span class="o">=</span>postgresql://...
</span><span id="__span-2-3"><a href="#__codelineno-2-3" id="__codelineno-2-3" name="__codelineno-2-3"></a><span class="nv">REDIS_URL</span><span class="o">=</span>redis://...
</span><span id="__span-2-4"><a href="#__codelineno-2-4" id="__codelineno-2-4" name="__codelineno-2-4"></a><span class="nv">JWT_SECRET_KEY</span><span class="o">=</span>...
</span><span id="__span-2-5"><a href="#__codelineno-2-5" id="__codelineno-2-5" name="__codelineno-2-5"></a>
</span><span id="__span-2-6"><a href="#__codelineno-2-6" id="__codelineno-2-6" name="__codelineno-2-6"></a><span class="c1"># AI Services</span>
</span><span id="__span-2-7"><a href="#__codelineno-2-7" id="__codelineno-2-7" name="__codelineno-2-7"></a><span class="nv">OPENAI_API_KEY</span><span class="o">=</span>...
</span><span id="__span-2-8"><a href="#__codelineno-2-8" id="__codelineno-2-8" name="__codelineno-2-8"></a><span class="nv">OPENAI_MODEL</span><span class="o">=</span>gpt-4
</span><span id="__span-2-9"><a href="#__codelineno-2-9" id="__codelineno-2-9" name="__codelineno-2-9"></a>
</span><span id="__span-2-10"><a href="#__codelineno-2-10" id="__codelineno-2-10" name="__codelineno-2-10"></a><span class="c1"># Real-time Services</span>
</span><span id="__span-2-11"><a href="#__codelineno-2-11" id="__codelineno-2-11" name="__codelineno-2-11"></a><span class="nv">PUSHER_APP_ID</span><span class="o">=</span>...
</span><span id="__span-2-12"><a href="#__codelineno-2-12" id="__codelineno-2-12" name="__codelineno-2-12"></a><span class="nv">PUSHER_KEY</span><span class="o">=</span>...
</span><span id="__span-2-13"><a href="#__codelineno-2-13" id="__codelineno-2-13" name="__codelineno-2-13"></a><span class="nv">PUSHER_SECRET</span><span class="o">=</span>...
</span><span id="__span-2-14"><a href="#__codelineno-2-14" id="__codelineno-2-14" name="__codelineno-2-14"></a><span class="nv">PUSHER_CLUSTER</span><span class="o">=</span>us2
</span><span id="__span-2-15"><a href="#__codelineno-2-15" id="__codelineno-2-15" name="__codelineno-2-15"></a>
</span><span id="__span-2-16"><a href="#__codelineno-2-16" id="__codelineno-2-16" name="__codelineno-2-16"></a><span class="c1"># Monitoring</span>
</span><span id="__span-2-17"><a href="#__codelineno-2-17" id="__codelineno-2-17" name="__codelineno-2-17"></a><span class="nv">SENTRY_DSN</span><span class="o">=</span>...
</span><span id="__span-2-18"><a href="#__codelineno-2-18" id="__codelineno-2-18" name="__codelineno-2-18"></a><span class="nv">SENTRY_ENVIRONMENT</span><span class="o">=</span>production
</span><span id="__span-2-19"><a href="#__codelineno-2-19" id="__codelineno-2-19" name="__codelineno-2-19"></a>
</span><span id="__span-2-20"><a href="#__codelineno-2-20" id="__codelineno-2-20" name="__codelineno-2-20"></a><span class="c1"># Feature Flags</span>
</span><span id="__span-2-21"><a href="#__codelineno-2-21" id="__codelineno-2-21" name="__codelineno-2-21"></a><span class="nv">SKIP_AUTH</span><span class="o">=</span><span class="nb">false</span>
</span><span id="__span-2-22"><a href="#__codelineno-2-22" id="__codelineno-2-22" name="__codelineno-2-22"></a><span class="nv">PUSHER_ENABLED</span><span class="o">=</span><span class="nb">true</span>
</span><span id="__span-2-23"><a href="#__codelineno-2-23" id="__codelineno-2-23" name="__codelineno-2-23"></a><span class="nv">ROJO_ENABLED</span><span class="o">=</span><span class="nb">true</span>
</span></code></pre></div> <h3 id="7-database-architecture">7. <strong>Database Architecture</strong><a class="headerlink" href="#7-database-architecture" title="Permanent link">¶</a></h3> <h4 id="primary-database-postgresql">Primary Database (PostgreSQL)<a class="headerlink" href="#primary-database-postgresql" title="Permanent link">¶</a></h4> <ul> <li><strong>Connection</strong>: SQLAlchemy with async support</li> <li><strong>Models</strong>: User management, content storage, analytics</li> <li><strong>Migrations</strong>: Alembic for schema versioning</li> </ul> <h4 id="caching-layer-redis">Caching Layer (Redis)<a class="headerlink" href="#caching-layer-redis" title="Permanent link">¶</a></h4> <ul> <li><strong>Usage</strong>: Session storage, rate limiting, task queues</li> <li><strong>Features</strong>: Failover handling, connection pooling</li> <li><strong>Integration</strong>: Shared across services</li> </ul> <h4 id="supabase-integration">Supabase Integration<a class="headerlink" href="#supabase-integration" title="Permanent link">¶</a></h4> <ul> <li><strong>Features</strong>: Real-time database, storage, edge functions</li> <li><strong>Usage</strong>: Agent metrics, task execution records</li> <li><strong>Benefits</strong>: Built-in real-time subscriptions</li> </ul> <h3 id="8-monitoring-observability">8. <strong>Monitoring &amp; Observability</strong><a class="headerlink" href="#8-monitoring-observability" title="Permanent link">¶</a></h3> <h4 id="logging-system-appsbackendcoreloggingpy">Logging System (<code>apps/backend/core/logging.py</code>)<a class="headerlink" href="#logging-system-appsbackendcoreloggingpy" title="Permanent link">¶</a></h4> <ul> <li><strong>Features</strong>:</li> <li>Structured logging with correlation IDs</li> <li>Performance timing decorators</li> <li>Database operation logging</li> <li>External API call tracking</li> <li>Audit trail logging</li> </ul> <h4 id="sentry-integration-appsbackendcoremonitoringpy">Sentry Integration (<code>apps/backend/core/monitoring.py</code>)<a class="headerlink" href="#sentry-integration-appsbackendcoremonitoringpy" title="Permanent link">¶</a></h4> <ul> <li><strong>Features</strong>: Error tracking, performance monitoring</li> <li><strong>Environment</strong>: Conditional initialization</li> <li><strong>Scope</strong>: Request tracking with user context</li> </ul> <h4 id="health-checks-appsbackendapihealth">Health Checks (<code>apps/backend/api/health/</code>)<a class="headerlink" href="#health-checks-appsbackendapihealth" title="Permanent link">¶</a></h4> <ul> <li><strong>Endpoints</strong>:</li> <li><code>/health</code> - Basic health check</li> <li><code>/health/agents</code> - Agent system status</li> <li><code>/health/mcp</code> - Model Context Protocol status</li> <li><code>/health/supabase</code> - Database connectivity</li> <li><strong>Features</strong>: Dependency validation, performance metrics</li> </ul> <h3 id="9-api-design-patterns">9. <strong>API Design Patterns</strong><a class="headerlink" href="#9-api-design-patterns" title="Permanent link">¶</a></h3> <h4 id="restful-api-structure">RESTful API Structure:<a class="headerlink" href="#restful-api-structure" title="Permanent link">¶</a></h4> <div class="language-text highlight"><pre><span></span><code><span id="__span-3-1"><a href="#__codelineno-3-1" id="__codelineno-3-1" name="__codelineno-3-1"></a>/api/v1/
</span><span id="__span-3-2"><a href="#__codelineno-3-2" id="__codelineno-3-2" name="__codelineno-3-2"></a>├── auth/           # Authentication endpoints
</span><span id="__span-3-3"><a href="#__codelineno-3-3" id="__codelineno-3-3" name="__codelineno-3-3"></a>├── users/          # User management
</span><span id="__span-3-4"><a href="#__codelineno-3-4" id="__codelineno-3-4" name="__codelineno-3-4"></a>├── content/        # Educational content
</span><span id="__span-3-5"><a href="#__codelineno-3-5" id="__codelineno-3-5" name="__codelineno-3-5"></a>├── agents/         # AI agent management
</span><span id="__span-3-6"><a href="#__codelineno-3-6" id="__codelineno-3-6" name="__codelineno-3-6"></a>├── roblox/         # Roblox integration
</span><span id="__span-3-7"><a href="#__codelineno-3-7" id="__codelineno-3-7" name="__codelineno-3-7"></a>├── analytics/      # Analytics and reporting
</span><span id="__span-3-8"><a href="#__codelineno-3-8" id="__codelineno-3-8" name="__codelineno-3-8"></a>├── admin/          # Administrative functions
</span><span id="__span-3-9"><a href="#__codelineno-3-9" id="__codelineno-3-9" name="__codelineno-3-9"></a>└── health/         # Health monitoring
</span></code></pre></div> <h4 id="response-format-standardization">Response Format Standardization:<a class="headerlink" href="#response-format-standardization" title="Permanent link">¶</a></h4> <div class="language-json highlight"><pre><span></span><code><span id="__span-4-1"><a href="#__codelineno-4-1" id="__codelineno-4-1" name="__codelineno-4-1"></a><span class="p">{</span>
</span><span id="__span-4-2"><a href="#__codelineno-4-2" id="__codelineno-4-2" name="__codelineno-4-2"></a><span class="w">  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success|error"</span><span class="p">,</span>
</span><span id="__span-4-3"><a href="#__codelineno-4-3" id="__codelineno-4-3" name="__codelineno-4-3"></a><span class="w">  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="err">...</span><span class="w"> </span><span class="p">},</span>
</span><span id="__span-4-4"><a href="#__codelineno-4-4" id="__codelineno-4-4" name="__codelineno-4-4"></a><span class="w">  </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Human readable message"</span><span class="p">,</span>
</span><span id="__span-4-5"><a href="#__codelineno-4-5" id="__codelineno-4-5" name="__codelineno-4-5"></a><span class="w">  </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-4-6"><a href="#__codelineno-4-6" id="__codelineno-4-6" name="__codelineno-4-6"></a><span class="w">    </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-09-23T..."</span><span class="p">,</span>
</span><span id="__span-4-7"><a href="#__codelineno-4-7" id="__codelineno-4-7" name="__codelineno-4-7"></a><span class="w">    </span><span class="nt">"request_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"uuid"</span><span class="p">,</span>
</span><span id="__span-4-8"><a href="#__codelineno-4-8" id="__codelineno-4-8" name="__codelineno-4-8"></a><span class="w">    </span><span class="nt">"execution_time"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.123</span>
</span><span id="__span-4-9"><a href="#__codelineno-4-9" id="__codelineno-4-9" name="__codelineno-4-9"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-4-10"><a href="#__codelineno-4-10" id="__codelineno-4-10" name="__codelineno-4-10"></a><span class="p">}</span>
</span></code></pre></div> <h2 id="data-flow-architecture">Data Flow Architecture<a class="headerlink" href="#data-flow-architecture" title="Permanent link">¶</a></h2> <h3 id="1-user-request-flow">1. <strong>User Request Flow</strong><a class="headerlink" href="#1-user-request-flow" title="Permanent link">¶</a></h3> <div class="language-text highlight"><pre><span></span><code><span id="__span-5-1"><a href="#__codelineno-5-1" id="__codelineno-5-1" name="__codelineno-5-1"></a>Client Request → CORS Check → Rate Limit → Authentication →
</span><span id="__span-5-2"><a href="#__codelineno-5-2" id="__codelineno-5-2" name="__codelineno-5-2"></a>Route Handler → Business Logic → Database/AI Service → Response
</span></code></pre></div> <h3 id="2-ai-content-generation-flow">2. <strong>AI Content Generation Flow</strong><a class="headerlink" href="#2-ai-content-generation-flow" title="Permanent link">¶</a></h3> <div class="language-text highlight"><pre><span></span><code><span id="__span-6-1"><a href="#__codelineno-6-1" id="__codelineno-6-1" name="__codelineno-6-1"></a>Content Request → Agent Service → Available Agent Check →
</span><span id="__span-6-2"><a href="#__codelineno-6-2" id="__codelineno-6-2" name="__codelineno-6-2"></a>Task Queue → Agent Execution → Result Validation →
</span><span id="__span-6-3"><a href="#__codelineno-6-3" id="__codelineno-6-3" name="__codelineno-6-3"></a>Store Result → Pusher Notification → Client Response
</span></code></pre></div> <h3 id="3-real-time-update-flow">3. <strong>Real-time Update Flow</strong><a class="headerlink" href="#3-real-time-update-flow" title="Permanent link">¶</a></h3> <div class="language-text highlight"><pre><span></span><code><span id="__span-7-1"><a href="#__codelineno-7-1" id="__codelineno-7-1" name="__codelineno-7-1"></a>Event Trigger → Pusher Service → Channel Authentication →
</span><span id="__span-7-2"><a href="#__codelineno-7-2" id="__codelineno-7-2" name="__codelineno-7-2"></a>Event Broadcast → Client Subscription → UI Update
</span></code></pre></div> <h2 id="integration-points">Integration Points<a class="headerlink" href="#integration-points" title="Permanent link">¶</a></h2> <h3 id="1-external-services">1. <strong>External Services</strong><a class="headerlink" href="#1-external-services" title="Permanent link">¶</a></h3> <ul> <li><strong>OpenAI API</strong>: Content generation, embeddings</li> <li><strong>Roblox Open Cloud</strong>: Asset management, place publishing</li> <li><strong>Pusher Channels</strong>: Real-time communication</li> <li><strong>Sentry</strong>: Error tracking and performance monitoring</li> </ul> <h3 id="2-internal-services">2. <strong>Internal Services</strong><a class="headerlink" href="#2-internal-services" title="Permanent link">¶</a></h3> <ul> <li><strong>MCP (Model Context Protocol)</strong>: AI model management</li> <li><strong>Agent Coordinator</strong>: Cross-agent orchestration</li> <li><strong>Analytics Engine</strong>: Usage and performance analytics</li> <li><strong>Content Validation</strong>: AI-generated content quality assurance</li> </ul> <h3 id="3-database-integrations">3. <strong>Database Integrations</strong><a class="headerlink" href="#3-database-integrations" title="Permanent link">¶</a></h3> <ul> <li><strong>PostgreSQL</strong>: Primary data storage</li> <li><strong>Redis</strong>: Caching and session management</li> <li><strong>Supabase</strong>: Real-time features and agent metrics</li> </ul> <h2 id="technology-stack-details">Technology Stack Details<a class="headerlink" href="#technology-stack-details" title="Permanent link">¶</a></h2> <h3 id="core-framework"><strong>Core Framework</strong><a class="headerlink" href="#core-framework" title="Permanent link">¶</a></h3> <ul> <li><strong>FastAPI</strong>: Modern async web framework</li> <li><strong>Uvicorn</strong>: ASGI server with auto-reload</li> <li><strong>Pydantic v2</strong>: Data validation and settings</li> </ul> <h3 id="database-orm"><strong>Database &amp; ORM</strong><a class="headerlink" href="#database-orm" title="Permanent link">¶</a></h3> <ul> <li><strong>SQLAlchemy</strong>: Async ORM with connection pooling</li> <li><strong>Alembic</strong>: Database migration management</li> <li><strong>Redis</strong>: In-memory data structure store</li> </ul> <h3 id="ai-ml"><strong>AI &amp; ML</strong><a class="headerlink" href="#ai-ml" title="Permanent link">¶</a></h3> <ul> <li><strong>OpenAI API</strong>: GPT models for content generation</li> <li><strong>LangChain</strong>: AI application framework</li> <li><strong>Custom Agents</strong>: Specialized educational content agents</li> </ul> <h3 id="real-time-communication"><strong>Real-time &amp; Communication</strong><a class="headerlink" href="#real-time-communication" title="Permanent link">¶</a></h3> <ul> <li><strong>Pusher Channels</strong>: WebSocket alternative</li> <li><strong>Native WebSockets</strong>: Legacy support</li> <li><strong>Server-Sent Events</strong>: For streaming responses</li> </ul> <h3 id="security-authentication"><strong>Security &amp; Authentication</strong><a class="headerlink" href="#security-authentication" title="Permanent link">¶</a></h3> <ul> <li><strong>JWT</strong>: Token-based authentication</li> <li><strong>Passlib</strong>: Password hashing</li> <li><strong>CORS</strong>: Cross-origin resource sharing</li> <li><strong>Rate Limiting</strong>: Request throttling</li> </ul> <h3 id="monitoring-reliability"><strong>Monitoring &amp; Reliability</strong><a class="headerlink" href="#monitoring-reliability" title="Permanent link">¶</a></h3> <ul> <li><strong>Sentry</strong>: Error tracking and performance</li> <li><strong>Circuit Breakers</strong>: Fault tolerance</li> <li><strong>Health Checks</strong>: Service monitoring</li> <li><strong>Structured Logging</strong>: Observability</li> </ul> <h3 id="development-testing"><strong>Development &amp; Testing</strong><a class="headerlink" href="#development-testing" title="Permanent link">¶</a></h3> <ul> <li><strong>Pytest</strong>: Testing framework</li> <li><strong>Factory Pattern</strong>: App creation for testing</li> <li><strong>Mocking</strong>: External service mocking</li> <li><strong>Environment Isolation</strong>: Testing configurations</li> </ul> <h2 id="performance-characteristics">Performance Characteristics<a class="headerlink" href="#performance-characteristics" title="Permanent link">¶</a></h2> <h3 id="scalability-features"><strong>Scalability Features</strong><a class="headerlink" href="#scalability-features" title="Permanent link">¶</a></h3> <ul> <li><strong>Async Operations</strong>: Non-blocking I/O throughout</li> <li><strong>Connection Pooling</strong>: Database and Redis connections</li> <li><strong>Circuit Breakers</strong>: Prevent cascade failures</li> <li><strong>Resource Isolation</strong>: Bulkhead pattern implementation</li> </ul> <h3 id="caching-strategy"><strong>Caching Strategy</strong><a class="headerlink" href="#caching-strategy" title="Permanent link">¶</a></h3> <ul> <li><strong>Redis</strong>: Session and computation caching</li> <li><strong>Agent Results</strong>: Cached for repeated requests</li> <li><strong>Configuration</strong>: In-memory caching with TTL</li> </ul> <h3 id="resource-management"><strong>Resource Management</strong><a class="headerlink" href="#resource-management" title="Permanent link">¶</a></h3> <ul> <li><strong>Agent Pool</strong>: Dynamic agent allocation</li> <li><strong>Task Queue</strong>: Load balancing across agents</li> <li><strong>Memory Management</strong>: Garbage collection optimization</li> <li><strong>Database Pooling</strong>: Connection reuse</li> </ul> <h2 id="security-model">Security Model<a class="headerlink" href="#security-model" title="Permanent link">¶</a></h2> <h3 id="authentication-layers"><strong>Authentication Layers</strong><a class="headerlink" href="#authentication-layers" title="Permanent link">¶</a></h3> <ol> <li><strong>API Key Authentication</strong>: For service-to-service</li> <li><strong>JWT Authentication</strong>: For user sessions</li> <li><strong>Role-Based Access</strong>: Admin, Teacher, Student roles</li> <li><strong>Channel Authentication</strong>: For private Pusher channels</li> </ol> <h3 id="security-headers"><strong>Security Headers</strong><a class="headerlink" href="#security-headers" title="Permanent link">¶</a></h3> <ul> <li><strong>HSTS</strong>: Force HTTPS connections</li> <li><strong>CSP</strong>: Content Security Policy</li> <li><strong>X-Frame-Options</strong>: Prevent clickjacking</li> <li><strong>X-Content-Type-Options</strong>: MIME type sniffing protection</li> </ul> <h3 id="data-protection"><strong>Data Protection</strong><a class="headerlink" href="#data-protection" title="Permanent link">¶</a></h3> <ul> <li><strong>Input Validation</strong>: Pydantic models for all inputs</li> <li><strong>SQL Injection Protection</strong>: ORM-based queries</li> <li><strong>XSS Prevention</strong>: Input sanitization</li> <li><strong>Rate Limiting</strong>: DDoS protection</li> </ul> <h2 id="deployment-architecture">Deployment Architecture<a class="headerlink" href="#deployment-architecture" title="Permanent link">¶</a></h2> <h3 id="environment-configuration"><strong>Environment Configuration</strong><a class="headerlink" href="#environment-configuration" title="Permanent link">¶</a></h3> <ul> <li><strong>Development</strong>: Local with hot-reload</li> <li><strong>Staging</strong>: Production-like environment</li> <li><strong>Production</strong>: Optimized for performance and reliability</li> </ul> <h3 id="container-support"><strong>Container Support</strong><a class="headerlink" href="#container-support" title="Permanent link">¶</a></h3> <ul> <li><strong>Docker</strong>: Multi-stage builds</li> <li><strong>Docker Compose</strong>: Development orchestration</li> <li><strong>Health Checks</strong>: Container health monitoring</li> </ul> <h3 id="infrastructure-requirements"><strong>Infrastructure Requirements</strong><a class="headerlink" href="#infrastructure-requirements" title="Permanent link">¶</a></h3> <ul> <li><strong>CPU</strong>: 2+ cores for agent processing</li> <li><strong>Memory</strong>: 4GB+ for AI model operations</li> <li><strong>Storage</strong>: SSD for database performance</li> <li><strong>Network</strong>: High bandwidth for real-time features</li> </ul> <p>This architecture provides a robust, scalable, and maintainable foundation for the ToolboxAI educational platform, with comprehensive support for AI agents, real-time communication, and fault tolerance.</p> <aside class="md-source-file"> <span class="md-source-file__fact"> <span class="md-icon" title="Last update"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"></path></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago" title="September 28, 2025 02:20:28 UTC"><span class="timeago" datetime="2025-09-28T02:20:28+00:00" locale="en"></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date" title="September 28, 2025 02:20:28 UTC">2025-09-28</span> </span> <span class="md-source-file__fact"> <span class="md-icon" title="Created"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3z"></path></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago" title="September 23, 2025 19:54:52 UTC"><span class="timeago" datetime="2025-09-23T19:54:52+00:00" locale="en"></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date" title="September 23, 2025 19:54:52 UTC">2025-09-23</span> </span> <span class="md-source-file__fact"> <span class="md-icon" title="Contributors"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 4a4 4 0 0 1 4 4 4 4 0 0 1-4 4 4 4 0 0 1-4-4 4 4 0 0 1 4-4m0 10c4.42 0 8 1.79 8 4v2H4v-2c0-2.21 3.58-4 8-4"></path></svg> </span> <nav> <a href="mailto:140660682+grayghostdev@users.noreply.github.com">GrayGhostDev</a> </nav> </span> </aside> </article> </div> <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button class="md-top md-icon" data-md-component="top" hidden="" type="button"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"></path></svg> Back to top </button> </main> <footer class="md-footer"> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class="md-copyright"> <div class="md-copyright__highlight"> Copyright © 2025 ToolBoxAI Solutions </div> Made with <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank"> Material for MkDocs </a> </div> <div class="md-social"> <a class="md-social__link" href="https://github.com/ToolBoxAI-Solutions" rel="noopener" target="_blank" title="ToolBoxAI on GitHub"> <svg viewbox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><!-- Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"></path></svg> </a> <a class="md-social__link" href="https://discord.gg/toolboxai" rel="noopener" target="_blank" title="ToolBoxAI on Discord"> <svg viewbox="0 0 576 512" xmlns="http://www.w3.org/2000/svg"><!-- Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M492.5 69.8c-.2-.3-.4-.6-.8-.7-38.1-17.5-78.4-30-119.7-37.1-.4-.1-.8 0-1.1.1s-.6.4-.8.8c-5.5 9.9-10.5 20.2-14.9 30.6-44.6-6.8-89.9-6.8-134.4 0-4.5-10.5-9.5-20.7-15.1-30.6-.2-.3-.5-.6-.8-.8s-.7-.2-1.1-.2C162.5 39 122.2 51.5 84.1 69c-.3.1-.6.4-.8.7C7.1 183.5-13.8 294.6-3.6 404.2c0 .3.1.5.2.8s.3.4.5.6c44.4 32.9 94 58 146.8 74.2.4.1.8.1 1.1 0s.7-.4.9-.7c11.3-15.4 21.4-31.8 30-48.8.1-.2.2-.5.2-.8s0-.5-.1-.8-.2-.5-.4-.6-.4-.3-.7-.4c-15.8-6.1-31.2-13.4-45.9-21.9-.3-.2-.5-.4-.7-.6s-.3-.6-.3-.9 0-.6.2-.9.3-.5.6-.7c3.1-2.3 6.2-4.7 9.1-7.1.3-.2.6-.4.9-.4s.7 0 1 .1c96.2 43.9 200.4 43.9 295.5 0 .3-.1.7-.2 1-.2s.7.2.9.4c2.9 2.4 6 4.9 9.1 7.2.2.2.4.4.6.7s.2.6.2.9-.1.6-.3.9-.4.5-.6.6c-14.7 8.6-30 15.9-45.9 21.8-.2.1-.5.2-.7.4s-.3.4-.4.7-.1.5-.1.8.1.5.2.8c8.8 17 18.8 33.3 30 48.8.2.3.6.6.9.7s.8.1 1.1 0c52.9-16.2 102.6-41.3 147.1-74.2.2-.2.4-.4.5-.6s.2-.5.2-.8c12.3-126.8-20.5-236.9-86.9-334.5zm-302 267.7c-29 0-52.8-26.6-52.8-59.2s23.4-59.2 52.8-59.2c29.7 0 53.3 26.8 52.8 59.2 0 32.7-23.4 59.2-52.8 59.2m195.4 0c-29 0-52.8-26.6-52.8-59.2s23.4-59.2 52.8-59.2c29.7 0 53.3 26.8 52.8 59.2 0 32.7-23.2 59.2-52.8 59.2"></path></svg> </a> <a class="md-social__link" href="https://twitter.com/toolboxai" rel="noopener" target="_blank" title="ToolBoxAI on Twitter"> <svg viewbox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><!-- Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M459.4 151.7c.3 4.5.3 9.1.3 13.6 0 138.7-105.6 298.6-298.6 298.6-59.5 0-114.7-17.2-161.1-47.1 8.4 1 16.6 1.3 25.3 1.3 49.1 0 94.2-16.6 130.3-44.8-46.1-1-84.8-31.2-98.1-72.8 6.5 1 13 1.6 19.8 1.6 9.4 0 18.8-1.3 27.6-3.6-48.1-9.7-84.1-52-84.1-103v-1.3c14 7.8 30.2 12.7 47.4 13.3-28.3-18.8-46.8-51-46.8-87.4 0-19.5 5.2-37.4 14.3-53C87.4 130.8 165 172.4 252.1 176.9c-1.6-7.8-2.6-15.9-2.6-24C249.5 95.1 296.3 48 354.4 48c30.2 0 57.5 12.7 76.7 33.1 23.7-4.5 46.5-13.3 66.6-25.3-7.8 24.4-24.4 44.8-46.1 57.8 21.1-2.3 41.6-8.1 60.4-16.2-14.3 20.8-32.2 39.3-52.6 54.3"></path></svg> </a> </div> </div> </div> </footer> </div> <div class="md-dialog" data-md-component="dialog"> <div class="md-dialog__inner md-typeset"></div> </div> <div class="md-progress" data-md-component="progress" role="progressbar"></div> <div class="md-consent" data-md-component="consent" hidden="" id="__consent"> <div class="md-consent__overlay"></div> <aside class="md-consent__inner"> <form class="md-consent__form md-grid md-typeset" name="consent"> <h4>Cookie consent</h4> <p>We use cookies to recognize your repeated visits and preferences, as well as to measure the effectiveness of our documentation and whether users find what they're searching for. With your consent, you're helping us to make our documentation better.</p> <input class="md-toggle" id="__settings" type="checkbox"/> <div class="md-consent__settings"> <ul class="task-list"> <li class="task-list-item"> <label class="task-list-control"> <input checked="" name="analytics" type="checkbox"/> <span class="task-list-indicator"></span> Google Analytics </label> </li> <li class="task-list-item"> <label class="task-list-control"> <input checked="" name="github" type="checkbox"/> <span class="task-list-indicator"></span> GitHub </label> </li> </ul> </div> <div class="md-consent__controls"> <button class="md-button md-button--primary">Accept</button> <label class="md-button" for="__settings">Manage settings</label> </div> </form> </aside> </div> <script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout((function(){document.querySelector("[data-md-component=consent]").hidden=!1}),250);var form=document.forms.consent;for(var action of["submit","reset"])form.addEventListener(action,(function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map((function(e){return[e,!0]})))),location.hash="",location.reload()}))</script> <script id="__config" type="application/json">{"base": "../..", "features": ["announce.dismiss", "content.action.edit", "content.action.view", "content.code.annotate", "content.code.copy", "content.tabs.link", "content.tooltips", "header.autohide", "navigation.expand", "navigation.footer", "navigation.indexes", "navigation.instant", "navigation.instant.prefetch", "navigation.instant.progress", "navigation.path", "navigation.prune", "navigation.sections", "navigation.tabs", "navigation.tabs.sticky", "navigation.top", "navigation.tracking", "search.highlight", "search.share", "search.suggest", "toc.follow", "toc.integrate"], "search": "../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"default": "latest", "provider": "mike"}}</script> <script src="../../assets/javascripts/bundle.f55a23d4.min.js"></script> <script src="../../js/timeago.min.js"></script> <script src="../../js/timeago_mkdocs_material.js"></script> <script src="../../javascripts/extra.js"></script> <script src="../../javascripts/mathjax.js"></script> <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script> </body> </html>