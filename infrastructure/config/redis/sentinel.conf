# ============================================
# Redis Sentinel Configuration
# ============================================
# High Availability configuration for Redis
# Automatic failover and monitoring
# ============================================

# Sentinel Configuration
port 26379
dir /data

# Monitor the master
# sentinel monitor <master-name> <ip> <port> <quorum>
sentinel monitor toolboxai-master redis-master 6380 2

# Authentication
sentinel auth-pass toolboxai-master ${REDIS_PASSWORD}

# Failover timeout (30 seconds)
sentinel down-after-milliseconds toolboxai-master 30000

# Parallel sync limit
sentinel parallel-syncs toolboxai-master 1

# Failover timeout (3 minutes)
sentinel failover-timeout toolboxai-master 180000

# Notification scripts (optional)
# sentinel notification-script toolboxai-master /path/to/notify.sh
# sentinel client-reconfig-script toolboxai-master /path/to/reconfig.sh

# Deny dangerous commands
sentinel deny-scripts-reconfig yes

# Logging
logfile "/var/log/redis/sentinel.log"
loglevel notice

# TLS Configuration (if using TLS)
# tls-port 26379
# port 0
# tls-cert-file /etc/redis/certs/server.crt
# tls-key-file /etc/redis/certs/server.key
# tls-ca-cert-file /etc/redis/certs/ca.crt
# tls-auth-clients no
# tls-replication yes

